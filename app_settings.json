{
  "locales": [
    {
      "code": "en",
      "name": "English"
    },
    {
      "code": "ne",
      "name": "नेपाली (Nepali)"
    }
  ],
  "locale": "ne",
  "locale_outgoing": "ne",
  "date_format": "D MMM, YYYY",
  "reported_date_format": "DD-MMM-YYYY HH:mm:ss",
  "forms_only_mode": false,
  "place_hierarchy_types": [
    "c10_center",
    "c20_province",
    "c30_district",
    "c40_municipality",
    "c50_ward",
    "c60_chn_area"
  ],
  "default_responses": {
    "start_date": ""
  },
  "district_admins_access_unallocated_messages": false,
  "public_access": false,
  "default_country_code": 1,
  "gateway_number": "+13125551212",
  "schedule_morning_hours": 0,
  "schedule_morning_minutes": 0,
  "schedule_evening_hours": 23,
  "schedule_evening_minutes": 0,
  "synthetic_date": "",
  "contact_display_short": "clinic.name",
  "roles": {
    "national_admin": {
      "name": "usertype.national-manager"
    },
    "data_entry": {
      "name": "usertype.data-entry"
    },
    "analytics": {
      "name": "usertype.analytics"
    },
    "gateway": {
      "name": "usertype.gateway"
    },
    "munic_user": {
      "name": "usertype.municipality_user"
    },
    "munic_offline": {
      "name": "usertype.munic_offline",
      "offline": true
    },
    "ward": {
      "name": "usertype.ward_user"
    },
    "chn": {
      "name": "usertype.chn_user",
      "offline": true
    },
    "chw": {
      "name": "usertype.chw",
      "offline": true
    },
    "view_only": {
      "name": "usertype.view_only",
      "offline": false
    }
  },
  "permissions": {
    "can_access_gateway_api": [
      "gateway"
    ],
    "can_bulk_delete_reports": [
      "national_admin",
      "munic_user",
      "munic_offline"
    ],
    "can_configure": [
      "national_admin"
    ],
    "can_create_people": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_create_places": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_create_records": [
      "national_admin",
      "data_entry",
      "gateway",
      "munic_user",
      "chn",
      "chw"
    ],
    "can_create_users": [
      "national_admin",
      "munic_user"
    ],
    "can_delete_contacts": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chw"
    ],
    "can_delete_messages": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chw"
    ],
    "can_delete_reports": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chw"
    ],
    "can_delete_users": [
      "national_admin",
      "munic_user"
    ],
    "can_edit": [
      "national_admin",
      "gateway",
      "munic_user",
      "chn",
      "chw"
    ],
    "can_edit_profile": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_edit_verification": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_export_all": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "ward"
    ],
    "can_export_contacts": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_export_feedback": [
      "national_admin"
    ],
    "can_export_messages": [
      "national_admin",
      "analytics",
      "munic_user",
      "chn",
      "chw"
    ],
    "can_log_out_on_android": [],
    "can_update_places": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_update_reports": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_update_users": [
      "national_admin"
    ],
    "can_export_dhis": [
      "national_admin",
      "ward"
    ],
    "can_verify_reports": [
      "munic_user",
      "chn",
      "chw"
    ],
    "can_view_analytics": [
      "analytics",
      "munic_user",
      "chn",
      "chw"
    ],
    "can_view_analytics_tab": [
      "national_admin"
    ],
    "can_view_call_action": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_view_contacts": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw",
      "view_only"
    ],
    "can_view_contacts_tab": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw",
      "view_only"
    ],
    "can_view_last_visited_date": [],
    "can_view_uhc_stats": [],
    "can_view_message_action": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_view_messages": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chw"
    ],
    "can_view_messages_tab": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chw"
    ],
    "can_view_outgoing_messages": [
      "national_admin",
      "munic_user"
    ],
    "can_view_reports": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw",
      "view_only"
    ],
    "can_view_reports_tab": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw",
      "view_only"
    ],
    "can_view_tasks": [
      "national_admin",
      "chn",
      "chw"
    ],
    "can_view_tasks_tab": [
      "national_admin",
      "chn",
      "chw"
    ],
    "can_view_unallocated_data_records": [
      "gateway",
      "munic_user",
      "chn",
      "chw"
    ],
    "can_view_users": [
      "national_admin",
      "munic_user",
      "munic_offline",
      "chn",
      "chw"
    ],
    "can_write_wealth_quintiles": [],
    "can_aggregate_targets": [
      "chn"
    ]
  },
  "changes_controller": {
    "reiterate_changes": true,
    "changes_limit": 100,
    "debounce_interval": 200
  },
  "uhc": {
    "contacts_default_sort": "",
    "visit_count": {
      "month_start_date": 1,
      "visit_count_goal": 0
    }
  },
  "death_reporting": {
    "mark_deceased_forms": [
      "death_report"
    ],
    "date_field": "fields.death_details.date_of_death",
    "undo_deceased_forms": [
      "undo_death_report"
    ]
  },
  "contact_types": [
    {
      "id": "c10_center",
      "name_key": "contact.type.center",
      "group_key": "contact.type.center.plural",
      "create_key": "contact.type.center.new",
      "edit_key": "contact.type.place.edit",
      "icon": "icon-government",
      "create_form": "form:contact:c10_center:create",
      "edit_form": "form:contact:c10_center:edit"
    },
    {
      "id": "c20_province",
      "name_key": "contact.type.province",
      "group_key": "contact.type.province.plural",
      "create_key": "contact.type.province.new",
      "edit_key": "contact.type.place.edit",
      "icon": "icon-government",
      "create_form": "form:contact:c20_province:create",
      "edit_form": "form:contact:c20_province:edit",
      "parents": [
        "c10_center"
      ]
    },
    {
      "id": "c30_district",
      "name_key": "contact.type.district",
      "group_key": "contact.type.district.plural",
      "create_key": "contact.type.district.new",
      "edit_key": "contact.type.place.edit",
      "icon": "icon-hospital",
      "create_form": "form:contact:c30_district:create",
      "edit_form": "form:contact:c30_district:edit",
      "parents": [
        "c20_province"
      ]
    },
    {
      "id": "c40_municipality",
      "name_key": "contact.type.municipality",
      "group_key": "contact.type.municipality.plural",
      "create_key": "contact.type.municipality.new",
      "edit_key": "contact.type.place.edit",
      "icon": "icon-government",
      "create_form": "form:contact:c40_municipality:create",
      "edit_form": "form:contact:c40_municipality:edit",
      "parents": [
        "c30_district"
      ]
    },
    {
      "id": "c50_ward",
      "name_key": "contact.type.ward",
      "group_key": "contact.type.ward.plural",
      "create_key": "contact.type.ward.new",
      "edit_key": "contact.type.place.edit",
      "parents": [
        "c40_municipality"
      ],
      "icon": "icon-community",
      "create_form": "form:contact:c50_ward:create",
      "edit_form": "form:contact:c50_ward:edit"
    },
    {
      "id": "c60_chn_area",
      "name_key": "contact.type.chn_area",
      "group_key": "contact.type.chn_area.plural",
      "create_key": "contact.type.chn_area.new",
      "edit_key": "contact.type.place.edit",
      "parents": [
        "c50_ward"
      ],
      "icon": "icon-nurse-area",
      "create_form": "form:contact:c60_chn_area:create",
      "edit_form": "form:contact:c60_chn_area:edit",
      "count_visits": true
    },
    {
      "id": "c70_fchv_area",
      "name_key": "contact.type.fchv_area",
      "group_key": "contact.type.fchv_area.plural",
      "create_key": "contact.type.fchv_area.new",
      "edit_key": "contact.type.place.edit",
      "parents": [
        "c60_chn_area"
      ],
      "icon": "icon-chw-area",
      "create_form": "form:contact:c70_fchv_area:create",
      "edit_form": "form:contact:c70_fchv_area:edit",
      "count_visits": true
    },
    {
      "id": "c80_household",
      "name_key": "contact.type.household",
      "group_key": "contact.type.household.plural",
      "create_key": "contact.type.household.new",
      "edit_key": "contact.type.household.edit",
      "parents": [
        "c70_fchv_area"
      ],
      "icon": "icon-family",
      "create_form": "form:contact:c80_household:create",
      "edit_form": "form:contact:c80_household:edit",
      "count_visits": true
    },
    {
      "id": "c82_person",
      "name_key": "contact.type.person",
      "group_key": "contact.type.person.plural",
      "create_key": "contact.type.person.new",
      "edit_key": "contact.type.person.edit",
      "primary_contact_key": "clinic.field.contact",
      "parents": [
        "c80_household"
      ],
      "icon": "icon-person",
      "create_form": "form:contact:c82_person:create",
      "edit_form": "form:contact:c82_person:edit",
      "person": true
    },
    {
      "id": "c12_center_contact",
      "name_key": "contact.type.person",
      "group_key": "contact.type.person.plural",
      "create_key": "contact.type.person.new",
      "edit_key": "contact.type.person.edit",
      "primary_contact_key": "clinic.field.contact",
      "parents": [
        "c10_center"
      ],
      "icon": "icon-staff",
      "create_form": "form:contact:c12_center_contact:create",
      "edit_form": "form:contact:c12_center_contact:edit",
      "person": true
    },
    {
      "id": "c22_province_contact",
      "name_key": "contact.type.person",
      "group_key": "contact.type.person.plural",
      "create_key": "contact.type.person.new",
      "edit_key": "contact.type.person.edit",
      "primary_contact_key": "clinic.field.contact",
      "parents": [
        "c20_province"
      ],
      "icon": "icon-staff",
      "create_form": "form:contact:c22_province_contact:create",
      "edit_form": "form:contact:c22_province_contact:edit",
      "person": true
    },
    {
      "id": "c32_district_contact",
      "name_key": "contact.type.person",
      "group_key": "contact.type.person.plural",
      "create_key": "contact.type.person.new",
      "edit_key": "contact.type.person.edit",
      "primary_contact_key": "clinic.field.contact",
      "parents": [
        "c30_district"
      ],
      "icon": "icon-staff",
      "create_form": "form:contact:c32_district_contact:create",
      "edit_form": "form:contact:c32_district_contact:edit",
      "person": true
    },
    {
      "id": "c42_municipality_contact",
      "name_key": "contact.type.person",
      "group_key": "contact.type.person.plural",
      "create_key": "contact.type.person.new",
      "edit_key": "contact.type.person.edit",
      "primary_contact_key": "clinic.field.contact",
      "parents": [
        "c40_municipality"
      ],
      "icon": "icon-staff",
      "create_form": "form:contact:c42_municipality_contact:create",
      "edit_form": "form:contact:c42_municipality_contact:edit",
      "person": true
    },
    {
      "id": "c52_ward_contact",
      "name_key": "contact.type.person",
      "group_key": "contact.type.person.plural",
      "create_key": "contact.type.person.new",
      "edit_key": "contact.type.person.edit",
      "primary_contact_key": "clinic.field.contact",
      "parents": [
        "c50_ward"
      ],
      "icon": "icon-staff",
      "create_form": "form:contact:c52_ward_contact:create",
      "edit_form": "form:contact:c52_ward_contact:edit",
      "person": true
    },
    {
      "id": "c62_chn_area_contact",
      "name_key": "contact.type.person",
      "group_key": "contact.type.person.plural",
      "create_key": "contact.type.person.new",
      "edit_key": "contact.type.person.edit",
      "primary_contact_key": "clinic.field.contact",
      "parents": [
        "c60_chn_area"
      ],
      "icon": "icon-chn",
      "edit_form": "form:contact:c62_chn_area_contact:edit",
      "person": true
    },
    {
      "id": "c72_fchv_area_contact",
      "name_key": "contact.type.person",
      "group_key": "contact.type.person.plural",
      "create_key": "contact.type.person.new",
      "edit_key": "contact.type.person.edit",
      "primary_contact_key": "clinic.field.contact",
      "parents": [
        "c70_fchv_area"
      ],
      "icon": "icon-fchv",
      "edit_form": "form:contact:c72_fchv_area_contact:edit",
      "person": true
    }
  ],
  "setup_complete": true,
  "transitions": {
    "accept_patient_reports": false,
    "conditional_alerts": false,
    "default_responses": false,
    "update_sent_by": false,
    "registration": false,
    "update_clinics": false,
    "update_notifications": false,
    "update_scheduled_reports": false,
    "generate_patient_id_on_people": true,
    "death_reporting": true
  },
  "assetlinks": [
    {
      "relation": [
        "delegate_permission/common.handle_all_urls"
      ],
      "target": {
        "namespace": "android_app",
        "package_name": "org.medicmobile.webapp.mobile.chis_ne",
        "sha256_cert_fingerprints": [
          "2B:41:3D:B7:AE:BB:F1:D0:C3:CF:C3:FC:1B:D8:48:D3:E9:09:FB:0F:BF:90:4F:BC:AA:0F:3D:BB:14:DF:7F:AE"
        ]
      }
    }
  ],
  "contact_summary": "var ContactSummary = {}; /*! For license information please see contact-summary.js.LICENSE.txt */\n!function(e,t){if('object'==typeof exports&&'object'==typeof module)module.exports=t();else if('function'==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)('object'==typeof exports?exports:e)[r]=n[r]}}(ContactSummary,(()=>(()=>{var e={263:e=>{function t(e){return e?Array.isArray(e)?e:[e]:[]}function n(e,t){switch(typeof e){case'undefined':return!0;case'function':return e(t);default:return e}}function r(e,t,r){if(n(e.appliesIf,r)){var i='function'==typeof e.fields?e.fields(r):e.fields.filter((function(e){return n(e.appliesIf,r)})).map((function(e){var t={};return s(e,t,'label'),s(e,t,'value'),s(e,t,'translate'),s(e,t,'filter'),s(e,t,'width'),s(e,t,'icon'),e.context&&(t.context={},s(e.context,t.context,'count'),s(e.context,t.context,'total')),t}));return e.modifyContext&&e.modifyContext(t,r),{label:e.label,fields:i}}function s(e,t,n){switch(typeof e[n]){case'undefined':return;case'function':t[n]=e[n](r);break;default:t[n]=e[n]}}}e.exports=function(e,n,i){var s=e.fields||[],a=e.context||{},o=e.cards||[],l=n&&('contact'===n.type?n.contact_type:n.type),c={cards:[],fields:s.filter((function(e){var n=t(e.appliesToType),r=n.filter((function(e){return e&&'!'===e.charAt(0)}));if((0===n.length||n.includes(l)||r.length>0&&!r.includes('!'+l))&&(!e.appliesIf||e.appliesIf()))return delete e.appliesToType,delete e.appliesIf,!0}))};return o.forEach((function(e){var n,s,o,u,d=t(e.appliesToType);if(d.includes('report')&&d.length>1)throw new Error('You cannot set appliesToType to an array which includes the type \\'report\\' and another type.');if(d.includes('report'))for(n=0;n<i.length;++n)s=i[n],!(u=s)||u.errors&&u.errors.length||(o=r(e,a,s))&&c.cards.push(o);else{if(!d.includes(l)&&d.length>0)return;(o=r(e,a))&&c.cards.push(o)}})),c.context=a,c}},906:(e,t,n)=>{var r=n(972),i=n(263);e.exports=i(r,contact,reports)},766:(e,t,n)=>{const r=n(93),i=r().startOf('day'),s=function(e){return!!(e.form&&e.fields&&e.reported_date)},a='c82_person',o=['c10_center','c20_province','c30_district','c40_municipality','c50_ward','c60_chn_area','c70_fchv_area','c80_household'],l=['c12_center_contact','c22_province_contact','c32_district_contact','c42_municipality_contact','c52_ward_contact','c62_chn_area_contact','c72_fchv_area_contact','c82_person'],c=o.filter((e=>'c80_household'!==e)),u=l.filter((e=>'c82_person'!==e)),d=['pregnancy'],h=['pregnancy_home_visit'],f=['delivery','pnc_danger_sign_follow_up_mother'],_=['cervical_cancer_screening'],m=['pregnancy','pregnancy_home_visit','pregnancy_danger_sign','pregnancy_danger_sign_follow_up'],p=['child_health_screening'],y=294,g=280,v=e=>i.diff(r(e.date_of_birth).startOf('day'),'years'),w=(e,t)=>['fields',...(t||'').split('.')].reduce(((e,t)=>{if(void 0!==e)return e[t]}),e);function k(e,t,n,r){return e.filter((function(e){return t.includes(e.form)&&e.reported_date>=n&&e.reported_date<=r}))}function b(e,t){let n;return e.forEach((function(e){s(e)&&t.includes(e.form)&&(!n||e.reported_date>n.reported_date)&&(n=e)})),n}function D(e){return R(e)&&w(e,'lmp_date_8601')&&r(w(e,'lmp_date_8601'))}function M(e,t){let n=D(t),i=t.reported_date;return A(e,t).forEach((function(e){const t=C(s=e)&&w(s,'lmp_date_8601')&&r(w(s,'lmp_date_8601'));var s;e.reported_date>i&&'yes'===w(e,'lmp_updated')&&(i=e.reported_date,n=t)})),n}function S(e,t){const n=M(e,t);if(n)return n.clone().add(g,'days')}function Y(e){return W(e)&&w(e,'preg_info.delivery_date')&&r(w(e,'preg_info.delivery_date'))}function x(e){const t=[];if('yes'===w(e,'t_danger_signs_referral_follow_up')){const n=w(e,'danger_signs');if(n)for(const e in n)'yes'===n[e]&&'r_danger_sign_present'!==e&&t.push(e)}return t}function O(e,t){const n=function(e){const t=[];if(!R(e))return[];const n=w(e,'risk_factors.primary_cond.primary_condition'),r=w(e,'risk_factors.secondary_group.secondary_condition');return n&&t.push(...n.split(' ')),r&&t.push(...r.split(' ')),t.filter((e=>'none'!==e))}(t);return A(e,t).forEach((function(e){n.push(...function(e){const t=[];if(!C(e))return[];if('yes'===w(e,'anc_visits_hf.risk_factors.r_risk_factor_present')){const n=w(e,'anc_visits_hf.risk_factors.new_risks');n&&t.push(...n.split(' '))}return t}(e))})),n}function T(e){let t;return e&&R(e)?t=w(e,'risk_factors.risk_factors_present.additional_risk'):e&&C(e)&&(t=w(e,'anc_visits_hf.risk_factors.additional_risk')),t}function N(e,t){const n=[],r=T(t);r&&n.push(r);return A(e,t).forEach((function(e){const t=T(e);t&&n.push(t)})),n}function P(e){return e&&!e.date_of_death}function R(e){return e&&d.includes(e.form)}function C(e){return e&&h.includes(e.form)}function W(e){return e&&f.includes(e.form)}function F(e,t,n){if(e.contact_type!==a||!P(e)||!R(n))return!1;const r=(M(t,n)||n.reported_date)>i.clone().subtract(y,'day'),s=H(t,n,42).length>0,o=function(e,t){return e.filter((function(e){return R(e)&&e.reported_date>t.reported_date}))}(t,n).length>0;return r&&!s&&!o&&!U(t,n,'abortion')&&!U(t,n,'miscarriage')}function U(e,t,n){const r=b(A(e,t),h);if(r&&w(r,'pregnancy_summary.visit_option')===n)return r}function H(e,t,n){return e.filter((function(e){return W(e)&&e.reported_date>t.reported_date&&(!n||t.reported_date>=r(e.reported_date).subtract(n,'days'))}))}function A(e,t){let n=D(t);n||(n=r(t.reported_date));return e.filter((function(e){return C(e)&&e.reported_date>t.reported_date&&r(e.reported_date)<n.clone().add(y,'days')}))}const E=(e,t)=>{const n=(e=>{const t=new Date,n=new Date(t.setDate(t.getDate()-45));let r=null;for(const t of e)('hypertension_screening'===(s=t.form)||'diabetes_screening'===s)&&(i=t.reported_date,new Date(i)>=n)&&(!r||new Date(t.reported_date)<new Date(r.reported_date))&&(r=t);var i,s;return r})(e);return n?w(n,`${n.form}.${t}`):null},L=(e,t)=>{const n=b(e,t),r=n?n.fields:{},i=r?r.hypertension_screening:null;return{systolic:i?i.systolic_p:null,diastolic:i?i.diastolic_p:null,average:i?i.avg_p:null}},I=e=>{const t=w(b(e,'delivery'),'preg_info.delivery_date');return t?r().diff(r(t),'days'):null},V=(e,t,n)=>w(b(e,'delivery'),`bbyinfo.baby_repeat.${t}.baby_details.${n}`);e.exports={today:i,MAX_DAYS_IN_PREGNANCY:y,isHighRiskPregnancy:function(e,t){return O(e,t).length||N(e,t).length||x(t).length},getNewestReport:b,getSubsequentPregnancyFollowUps:A,getSubsequentDeliveries:H,isAlive:P,isPregnant:function(e){return e.some((e=>F(e)))},isActivePregnancy:F,countANCFacilityVisits:function(e,t){let n=0;const r=A(e,t);return w(t,'anc_visits_hf.anc_visits_hf_past')&&!isNaN(w(t,'anc_visits_hf.anc_visits_hf_past.visited_hf_count'))&&(n+=parseInt(w(t,'anc_visits_hf.anc_visits_hf_past.visited_hf_count'))),n+=r.reduce((function(e,t){const n=w(t,'anc_visits_hf.anc_visits_hf_past');return n?(e+='yes'===n.last_visit_attended&&1,isNaN(n.visited_hf_count)?e:e+('yes'===n.report_other_visits&&parseInt(n.visited_hf_count))):0}),0),n},knowsHIVStatusInPast3Months:function(e){let t=!1;return k(e,d,i.clone().subtract(3,'months'),i).forEach((function(e){'yes'===w(e,'pregnancy_new_or_current.hiv_status.hiv_status_know')&&(t=!0)})),t},getAllRiskFactors:O,getAllRiskFactorExtra:N,getDangerSignCodes:x,getLatestDangerSignsForPregnancy:function(e,t){if(!t)return[];let n=M(e,t);n||(n=r(t.reported_date));const i=k(e,m,n.toDate(),n.clone().add(y,'days').toDate()),s=[];i.forEach((e=>{C(e)?'yes'===w(e,'pregnancy_summary.visit_option')&&s.push(e):s.push(e)}));const a=b(s,m);return a?x(a):[]},getNextANCVisitDate:function(e,t){let n=w(t,'t_pregnancy_follow_up_date'),i=t.reported_date;return A(e,t).forEach((function(e){e.reported_date>i&&w(e,'t_pregnancy_follow_up_date')&&(i=e.reported_date,n=w(e,'t_pregnancy_follow_up_date'))})),r(n)},getMostRecentLMPDateForPregnancy:M,getMostRecentEDDForPregnancy:S,getDeliveryDate:Y,getFormArraySubmittedInWindow:k,getRecentANCVisitWithEvent:U,getField:w,getContext:function(e,t){const n=Object.assign({},v(e)<=5?function(e,t){if(e.contact_type!==a)return{};if(e.date_of_birth&&v(e)>5)return{};const n=b(t,p);if(!n)return{};const r={};return Object.entries({bcg_vax:'vaccination_history.history_bcg',oral_polio_first_dose_vax:'vaccination_history.history_oral_polio_first_dose',pentavalent_first_dose_vax:'vaccination_history.history_pentavalent_first_dose',rota_vaccine_first_dose_vax:'vaccination_history.history_rota_vaccine_first_dose',rota_vaccine_second_dose_vax:'vaccination_history.history_rota_vaccine_second_dose',oral_polio_second_dose_vax:'vaccination_history.history_oral_polio_second_dose',pentavalent_second_dose_vax:'vaccigetChildVaccnation_history.history_pentavalent_second_dose',pcv_first_dose_vax:'vaccination_history.history_pcv_first_dose',oral_polio_third_dose_vax:'vaccination_history.history_oral_polio_third_dose',pentavalent_third_dose_vax:'vaccination_history.history_pentavalent_third_dose',fipv_first_dose_vax:'vaccination_history.history_fipv_first_dose',fipv_second_dose_vax:'vaccination_history.history_fipv_second_dose',pcv_second_dose_vax:'vaccination_history.history_pcv_second_dose',measles_rubella_first_dose_vax:'vaccination_history.history_measles_rubella_first_dose',pcv_third_dose_vax:'vaccination_history.history_pcv_third_dose',je_vaccine_vax:'vaccination_history.history_je_vaccine',measles_rubella_second_dose_vax:'vaccination_history.history_measles_rubella_second_dose',typhoid_vax:'vaccination_history.history_typhoid'}).forEach((([e,t])=>{const i=w(n,t);void 0!==i&&(r[e]=i)})),r}(e,t):{});if(n.alive=P(e),n.show_pregnancy_form=function(e,t){if(e.contact_type!==a)return!1;const n=b(t,d),s=b(t,f);if(!n&&!s)return!0;if(n){if(!s||s.reported_date<n.reported_date){let e=M(t,n);if(e||(e=r(n.reported_date)),e<i.clone().subtract(y,'day'))return!0;if(U(t,n,'abortion')||U(t,n,'miscarriage'))return!0}else if(s)return Y(s)<i.clone().subtract(42,'day')}else if(s&&Y(s)<i.clone().subtract(42,'day'))return!0;return!1}(e,t),n.show_delivery_form=function(e,t){if(e.contact_type!==a)return!1;const n=b(t,d),s=b(t,f);if(!n)return!1;if(s&&s.reported_date>n.reported_date)return Y(s)<i.clone().subtract(7,'months');if(n&&R(n)){const e=M(t,n);if(e){const r=S(t,n);return i.isBetween(e.clone().add(6,'months'),r.clone().add(6,'weeks'))}return r(n.reported_date).clone().startOf('day').add(322,'days').isSameOrBefore(i)}return!1}(e,t),n.show_cervical_form=function(e,t){if(e.contact_type!==a||'male'===e.gender)return!1;if(e.date_of_birth){const t=v(e);if(t<30||t>60)return!1}const n=b(t,_);if(!n)return!0;const s=r(n.reported_date).startOf('day');return i.diff(s,'years')>=5}(e,t),'c82_person'===e.contact_type&&v(e)>=30){if(t.some((e=>['hypertension_screening','diabetes_screening'].includes(e.form)))){const[e,r]=[E(t,'bmi_result'),E(t,'bmi_cal')],{systolic:i,diastolic:s,average:a}=L(t,'hypertension_screening');n.avg_result=a,n.diastolic_result=s,n.systolic_result=i,n.bmi_result_ctx=e,n.bmical_show_ctx=r,n.bmi_previous_ctx='yes';const[o,l]=[E(t,'bmi_cal'),E(t,'bmi_result')],c=b(t,'diabetes_screening'),u=w(c,'diabetes_screening.glucometer'),d=w(c,'dt_pps_rbs'),h=w(c,'dt_fbs');n.bmi_result_ctx_diabetes=l,n.bmical_show_ctx_diabetes=o,n.glucometer_ctx=u,n.dt_pps_rbs_ctx=d,n.dt_fbs_ctx=h}}if('c82_person'===e.contact_type&&'female'===e.gender){if(t.some((e=>'delivery'===e.form))){const e=b(t,'delivery'),r=w(e,'preg_info.delivery_date'),i=I(t),s=V,a=w(e,'mother_info.mother_status'),o=w(e,'preg_info.delivery_type'),l=4,c=(t=>{const n=e?e.reported_date:null;if(!n)return null;const r=t.filter((e=>e.reported_date>n&&'pnc_service_form'===e.form));if(0===r.length)return 1;return Math.min(r.length+1,Number.MAX_SAFE_INTEGER)})(t);n.total_visit=c,n.delivery_date_ctx=r,n.motherstatus_ctx=a,n.delivery_type=o,n.delivery_since_days_ctx=i;for(let e=1;e<=l;e++)n[`baby_name_${e}_ctx`]=s(reports,e-1,'baby_name'),n[`baby_status_${e}_ctx`]=s(reports,e-1,'baby_status')}}if('c82_person'===e.contact_type&&v(e)>=30){if(t.some((e=>['become_form','become_sessions'].includes(e.form)))){const e=b(t,'become_sessions'),r=b(t,'become_form'),i=w(e,'ebsr_session.ensure_condition'),s=w(r,'become.hp_selection');n.previous_ctx=s,n.ebsr=i}}return n},allPlaces:o,allPersons:l,nonHouseholdPlaces:c,nonHouseholdPersons:u,getFieldIfNotSetTo:(e,t,n,r='yes')=>e!==r?w(t,n):e}},972:(e,t,n)=>{const r=n(93),i=n(766),{today:s,MAX_DAYS_IN_PREGNANCY:a,isHighRiskPregnancy:o,getNewestReport:l,getSubsequentPregnancyFollowUps:c,getSubsequentDeliveries:u,isAlive:d,isActivePregnancy:h,countANCFacilityVisits:f,getAllRiskFactors:_,getLatestDangerSignsForPregnancy:m,getNextANCVisitDate:p,getMostRecentLMPDateForPregnancy:y,getMostRecentEDDForPregnancy:g,getDeliveryDate:v,getFormArraySubmittedInWindow:w,getRecentANCVisitWithEvent:k,getAllRiskFactorExtra:b,getField:D,getFieldIfNotSetTo:M,allPlaces:S,allPersons:Y,getContext:x}=i,O=['c10_center','c20_province'],T=contact,N=lineage.filter((e=>e&&!O.includes(e.contact_type))),P=reports,R=x(T,P);console.log('data',R);const C=[{appliesToType:'c82_person',label:'patient_id',value:T.patient_id,width:4},{appliesToType:'c82_person',label:'contact.age',value:T.date_of_birth,width:4,filter:'age'},{appliesToType:'c82_person',label:'contact.gender',value:'contact.gender.'+(T.gender||T.sex),translate:!0,width:4},{appliesToType:'c82_person',appliesIf:()=>T.parent&&N[0]&&N[0].house_number,label:'House No.',value:N&&N[0]&&N[0].house_number,width:4},{appliesToType:'c80_household',label:'person.field.house_number',value:T.house_number,translate:!0,width:4},{appliesToType:Y,label:'person.field.phone',value:T.phone,width:4},{appliesToType:S,label:'Contact',value:T.contact&&T.contact.name,width:4},{appliesToType:S,label:'contact.phone.number',value:T.contact&&T.contact.phone,width:4},{label:'External ID',value:T.external_id,width:4},{appliesIf:function(){return T.parent&&N[0]},label:'contact.parent',value:N,filter:'lineage'},{label:'contact.notes',value:T.notes,width:12}],W=[{label:'contact.profile.pregnancy.active',appliesToType:'report',appliesIf:function(e){return h(T,P,e)},fields:function(e){const t=[],n=_(P,e),i=b(P,e),a=m(P,e),u=o(P,e),d=l(P,['pregnancy','pregnancy_home_visit']),h=r(d.reported_date),v=y(P,e),w=g(P,e),M=p(P,e),S=v?s.diff(v,'weeks'):null;let Y=D(e,'lmp_approx'),x=e.reported_date;c(P,e).forEach((function(e){e.reported_date>x&&'yes'===D(e,'lmp_updated')&&(x=e.reported_date,D(e,'lmp_method_approx')&&(Y=D(e,'lmp_method_approx')))}));const O=k(P,e,'migrated'),T=k(P,e,'refused'),N=O||T;if(N){const e='clear_all'===D(N,'pregnancy_ended.clear_option');t.push({label:'contact.profile.change_care',value:O?'contact.profile.clear.migrated':'contact.profile.clear.refused',translate:!0,width:6},{label:'contact.profile.tasks_on_off',value:e?'contact.profile.task.on':'contact.profile.task.off',translate:!0,width:6})}if(t.push({label:'Weeks Pregnant',value:S||0===S?{number:S,approximate:'yes'===Y}:'contact.profile.value.unknown',translate:!S&&0!==S,filter:S||0===S?'weeksPregnant':'',width:6},{label:'contact.profile.edd',value:w?w.valueOf():'contact.profile.value.unknown',translate:!w,filter:w?'simpleDate':'',width:6}),u){let e='';0===n.length&&i.length>0?e=i.join(', '):n.length+i.length>1?e='contact.profile.risk.multiple':1===n.length&&(e='contact.profile.danger_sign.'+n[0]),t.push({label:'contact.profile.risk.high',value:e,translate:!0,icon:'icon-pregnancy-danger',width:6})}return a.length>0&&t.push({label:'contact.profile.danger_signs.current',value:a.length>1?'contact.profile.danger_sign.multiple':'contact.profile.danger_sign.'+a[0],translate:!0,width:6}),t.push({label:'contact.profile.visit',value:'contact.profile.visits.of',context:{count:f(P,e),total:4},translate:!0,width:6},{label:'contact.profile.last_visited',value:h.valueOf(),filter:'relativeDay',width:6}),M&&M.isSameOrAfter(s)&&t.push({label:'contact.profile.anc.next',value:M.valueOf(),filter:'simpleDate',width:6}),t},modifyContext:function(e,t){let n=D(t,'lmp_date_8601');const r=D(t,'g_edd_8601');let i=D(t,'lmp_method_approx'),s=D(t,'hiv_status_known'),a=D(t,'deworming_med_received'),o=D(t,'tt_received'),l=D(t,'tt_received_second_dose'),u=D(t,'using_iron_folic'),d=D(t,'blood_urine_test'),h=D(t,'birth_plan_safe'),m=D(t,'newborn_card'),p=D(t,'xray'),y=D(t,'eat_more');const g=_(P,t),v=b(P,t);let w=D(t,'t_pregnancy_follow_up_date');const k=D(t,'risk_factors.risk_factor_history.first_pregnancy'),S=c(P,t),Y=f(P,t);S.forEach((function(e){'yes'===D(e,'lmp_updated')&&(n=D(e,'lmp_date_8601'),i=D(e,'lmp_method_approx')),s=M(s,e,'hiv_status_known'),o=M(o,e,'tt_received'),u=M(u,e,'using_iron_folic'),a=M(a,e,'deworming_med_received'),l=M(l,e,'tt_received_second_dose'),d=M(d,e,'blood_urine_test'),p=M(p,e,'xray'),m=M(m,e,'newborn_card'),h=M(h,e,'birth_plan_safe'),y=M(y,e,'eat_more'),'yes'===D(e,'t_pregnancy_follow_up')&&(w=D(e,'t_pregnancy_follow_up_date'))})),e.lmp_date_8601=n,e.edd_8601=r,e.lmp_method_approx=i,e.is_active_pregnancy=!0,e.deworming_med_received=a,e.hiv_tested_past=s,e.tt_received_past=o,e.risk_factor_codes=g.join(' '),e.risk_factor_extra=v.join('; '),e.pregnancy_follow_up_date_recent=w,e.pregnancy_uuid=t._id,e.using_iron_folic=u,e.tt_received_second_dose=l,e.is_first_pregnancy=k,e.blood_urine_test=d,e.xray=p,e.new_born_card=m,e.birth_plan_safe=h,e.eat_more=y,e.anc_hf_visits=Y}},{label:'contact.profile.death.title',appliesToType:'person',appliesIf:function(){return!d(T)},fields:function(){const e=[];let t,n;const r=l(P,['death_report']);if(r){const e=D(r,'death_details');e&&(t=e.date_of_death,n=e.place_of_death)}else T.date_of_death&&(t=T.date_of_death);return e.push({label:'contact.profile.death.date',value:t||'contact.profile.value.unknown',filter:t?'simpleDate':'',translate:!t,width:6},{label:'contact.profile.death.place',value:n||'contact.profile.value.unknown',translate:!0,width:6}),e}},{label:'contact.profile.pregnancy.past',appliesToType:'report',appliesIf:function(e){if('c82_person'!==T.contact_type)return!1;if('delivery'===e.form)return!0;if('pregnancy'===e.form){if(k(P,e,'abortion')||k(P,e,'miscarriage'))return!0;const t=y(P,e);return t&&s.isSameOrAfter(t.clone().add(42,'weeks'))&&0===u(P,e,a).length}return!1},fields:function(e){const t=[];let n,i,l='',c=0,d=0;if('delivery'===e.form){const s=r(e.reported_date);n=w(P,['pregnancy'],s.clone().subtract(a,'days').toDate(),s.toDate())[0],D(e,'preg_info')&&(i=v(e),l=`contact.delivery.location.${D(e,'preg_info.delivery_place')}`,c=D(e,'bbyinfo.baby_repeat_count'),t.push({label:'contact.profile.delivery_date',value:i?i.valueOf():'',filter:'simpleDate',width:6},{label:'contact.profile.delivery_place',value:l,translate:!0,width:6},{label:'contact.profile.delivered_babies',value:c,width:6}))}else if('pregnancy'===e.form){n=e;const o=y(P,n),l=k(P,n,'abortion'),c=k(P,n,'miscarriage');if(l||c){let e='',n=r(0),i=0;l?(e='abortion',n=r(D(l,'pregnancy_ended.abortion_date'))):(e='miscarriage',n=r(D(c,'pregnancy_ended.miscarriage_date'))),i=n.diff(o,'weeks'),t.push({label:'contact.profile.pregnancy.end_early',value:e,translate:!0,width:6},{label:'contact.profile.pregnancy.end_date',value:n.valueOf(),filter:'simpleDate',width:6},{label:'contact.profile.pregnancy.end_weeks',value:i>0?i:'contact.profile.value.unknown',translate:i<=0,width:6})}else o&&s.isSameOrAfter(o.clone().add(42,'weeks'))&&0===u(P,e,a).length&&(i=g(P,e),t.push({label:'contact.profile.delivery_date',value:i?i.valueOf():'contact.profile.value.unknown',filter:'simpleDate',translate:!i,width:6}))}if(n){d=f(P,n),t.push({label:'contact.profile.anc_visit',value:d,width:3});if(o(P,n)){let e='';const r=_(P,n),i=b(P,n);0===r.length&&i.length>0?e=i.join(', '):r.length+i.length>1?e='contact.profile.risk.multiple':1===r.length&&(e='contact.profile.danger_sign.'+r[0]),t.push({label:'contact.profile.risk.high',value:e,translate:!0,icon:'icon-risk',width:6})}}return t}}];e.exports={context:R,cards:W,fields:C}},93:function(e,t,n){(e=n.nmd(e)).exports=function(){'use strict';var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function s(e){return e instanceof Array||'[object Array]'===Object.prototype.toString.call(e)}function a(e){return null!=e&&'[object Object]'===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return'number'==typeof e||'[object Number]'===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||'[object Date]'===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,'toString')&&(e.toString=t.toString),o(t,'valueOf')&&(e.valueOf=t.valueOf),e}function _(e,t,n,r){return qn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=m()),e._pf}function y(e){var t=null,r=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=p(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function g(e){var t=_(NaN);return null!=e?f(p(t),e):p(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=r.momentProperties=[],w=!1;function k(e,t){var n,r,i,s=v.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=p(t)),c(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)c(i=t[r=v[n]])||(e[r]=i);return e}function b(e){k(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function D(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function M(e){!1===r.suppressDeprecationWarnings&&'undefined'!=typeof console&&console.warn&&console.warn('Deprecation warning: '+e)}function S(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,s,a,l=[],c=arguments.length;for(s=0;s<c;s++){if(i='','object'==typeof arguments[s]){for(a in i+='\\n['+s+'] ',arguments[0])o(arguments[0],a)&&(i+=a+': '+arguments[0][a]+', ');i=i.slice(0,-2)}else i=arguments[s];l.push(i)}M(e+'\\nArguments: '+Array.prototype.slice.call(l).join('')+'\\n'+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var Y,x={};function O(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),x[e]||(M(t),x[e]=!0)}function T(e){return'undefined'!=typeof Function&&e instanceof Function||'[object Function]'===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)o(e,n)&&(T(t=e[n])?this[n]=t:this['_'+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+'|'+/\\d{1,2}/.source)}function P(e,t){var n,r=f({},e);for(n in t)o(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)o(e,n)&&!o(t,n)&&a(e[n])&&(r[n]=f({},r[n]));return r}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,Y=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var C={sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'};function W(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r}function F(e,t,n){var r=''+Math.abs(e),i=t-r.length;return(e>=0?n?'+':'':'-')+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var U=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,A={},E={};function L(e,t,n,r){var i=r;'string'==typeof r&&(i=function(){return this[r]()}),e&&(E[e]=i),t&&(E[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&(E[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function I(e){return e.match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,''):e.replace(/\\\\/g,'')}function V(e){var t,n,r=e.match(U);for(t=0,n=r.length;t<n;t++)E[r[t]]?r[t]=E[r[t]]:r[t]=I(r[t]);return function(t){var i,s='';for(i=0;i<n;i++)s+=T(r[i])?r[i].call(t,e):r[i];return s}}function G(e,t){return e.isValid()?(t=j(t,e.localeData()),A[t]=A[t]||V(t),A[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,r),H.lastIndex=0,n-=1;return e}var Z={LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'};function z(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(U).map((function(e){return'MMMM'===e||'MM'===e||'DD'===e||'dddd'===e?e.slice(1):e})).join(''),this._longDateFormat[e])}var $='Invalid date';function q(){return this._invalidDate}var B='%d',J=/\\d{1,2}/;function Q(e){return this._ordinal.replace('%d',e)}var X={future:'in %s',past:'%s ago',s:'a few seconds',ss:'%d seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',w:'a week',ww:'%d weeks',M:'a month',MM:'%d months',y:'a year',yy:'%d years'};function K(e,t,n,r){var i=this._relativeTime[n];return T(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?'future':'past'];return T(n)?n(t):n.replace(/%s/i,t)}var te={D:'date',dates:'date',date:'date',d:'day',days:'day',day:'day',e:'weekday',weekdays:'weekday',weekday:'weekday',E:'isoWeekday',isoweekdays:'isoWeekday',isoweekday:'isoWeekday',DDD:'dayOfYear',dayofyears:'dayOfYear',dayofyear:'dayOfYear',h:'hour',hours:'hour',hour:'hour',ms:'millisecond',milliseconds:'millisecond',millisecond:'millisecond',m:'minute',minutes:'minute',minute:'minute',M:'month',months:'month',month:'month',Q:'quarter',quarters:'quarter',quarter:'quarter',s:'second',seconds:'second',second:'second',gg:'weekYear',weekyears:'weekYear',weekyear:'weekYear',GG:'isoWeekYear',isoweekyears:'isoWeekYear',isoweekyear:'isoWeekYear',w:'week',weeks:'week',week:'week',W:'isoWeek',isoweeks:'isoWeek',isoweek:'isoWeek',y:'year',years:'year',year:'year'};function ne(e){return'string'==typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,r={};for(n in e)o(e,n)&&(t=ne(n))&&(r[t]=e[n]);return r}var ie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function se(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var ae,oe=/\\d/,le=/\\d\\d/,ce=/\\d{3}/,ue=/\\d{4}/,de=/[+-]?\\d{6}/,he=/\\d\\d?/,fe=/\\d\\d\\d\\d?/,_e=/\\d\\d\\d\\d\\d\\d?/,me=/\\d{1,3}/,pe=/\\d{1,4}/,ye=/[+-]?\\d{1,6}/,ge=/\\d+/,ve=/[+-]?\\d+/,we=/Z|[+-]\\d\\d:?\\d\\d/gi,ke=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,be=/[+-]?\\d+(\\.\\d{1,3})?/,De=/[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,Me=/^[1-9]\\d?/,Se=/^([1-9]\\d|\\d)/;function Ye(e,t,n){ae[e]=T(t)?t:function(e,r){return e&&n?n:t}}function xe(e,t){return o(ae,e)?ae[e](t._strict,t._locale):new RegExp(Oe(e))}function Oe(e){return Te(e.replace('\\\\','').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Te(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,'\\\\$&')}function Ne(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Pe(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ne(t)),n}ae={};var Re={};function Ce(e,t){var n,r,i=t;for('string'==typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=Pe(e)}),r=e.length,n=0;n<r;n++)Re[e[n]]=i}function We(e,t){Ce(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Fe(e,t,n){null!=t&&o(Re,e)&&Re[e](t,n._a,n,e)}function Ue(e){return e%4==0&&e%100!=0||e%400==0}var He=0,Ae=1,Ee=2,Le=3,Ie=4,Ve=5,Ge=6,je=7,Ze=8;function ze(e){return Ue(e)?366:365}L('Y',0,0,(function(){var e=this.year();return e<=9999?F(e,4):'+'+e})),L(0,['YY',2],0,(function(){return this.year()%100})),L(0,['YYYY',4],0,'year'),L(0,['YYYYY',5],0,'year'),L(0,['YYYYYY',6,!0],0,'year'),Ye('Y',ve),Ye('YY',he,le),Ye('YYYY',pe,ue),Ye('YYYYY',ye,de),Ye('YYYYYY',ye,de),Ce(['YYYYY','YYYYYY'],He),Ce('YYYY',(function(e,t){t[He]=2===e.length?r.parseTwoDigitYear(e):Pe(e)})),Ce('YY',(function(e,t){t[He]=r.parseTwoDigitYear(e)})),Ce('Y',(function(e,t){t[He]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return Pe(e)+(Pe(e)>68?1900:2e3)};var $e,qe=Je('FullYear',!0);function Be(){return Ue(this.year())}function Je(e,t){return function(n){return null!=n?(Xe(this,e,n),r.updateOffset(this,t),this):Qe(this,e)}}function Qe(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case'Milliseconds':return r?n.getUTCMilliseconds():n.getMilliseconds();case'Seconds':return r?n.getUTCSeconds():n.getSeconds();case'Minutes':return r?n.getUTCMinutes():n.getMinutes();case'Hours':return r?n.getUTCHours():n.getHours();case'Date':return r?n.getUTCDate():n.getDate();case'Day':return r?n.getUTCDay():n.getDay();case'Month':return r?n.getUTCMonth():n.getMonth();case'FullYear':return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Xe(e,t,n){var r,i,s,a,o;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case'Milliseconds':return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case'Seconds':return void(i?r.setUTCSeconds(n):r.setSeconds(n));case'Minutes':return void(i?r.setUTCMinutes(n):r.setMinutes(n));case'Hours':return void(i?r.setUTCHours(n):r.setHours(n));case'Date':return void(i?r.setUTCDate(n):r.setDate(n));case'FullYear':break;default:return}s=n,a=e.month(),o=29!==(o=e.date())||1!==a||Ue(s)?o:28,i?r.setUTCFullYear(s,a,o):r.setFullYear(s,a,o)}}function Ke(e){return T(this[e=ne(e)])?this[e]():this}function et(e,t){if('object'==typeof e){var n,r=se(e=re(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(T(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Ue(e)?29:28:31-n%7%2}$e=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},L('M',['MM',2],'Mo',(function(){return this.month()+1})),L('MMM',0,0,(function(e){return this.localeData().monthsShort(this,e)})),L('MMMM',0,0,(function(e){return this.localeData().months(this,e)})),Ye('M',he,Me),Ye('MM',he,le),Ye('MMM',(function(e,t){return t.monthsShortRegex(e)})),Ye('MMMM',(function(e,t){return t.monthsRegex(e)})),Ce(['M','MM'],(function(e,t){t[Ae]=Pe(e)-1})),Ce(['MMM','MMMM'],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ae]=i:p(n).invalidMonth=e}));var rt='January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),it='Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),st=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,at=De,ot=De;function lt(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?'format':'standalone'][e.month()]:s(this._months)?this._months:this._months.standalone}function ct(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?'format':'standalone'][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=_([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,'').toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,'').toLocaleLowerCase();return n?'MMM'===t?-1!==(i=$e.call(this._shortMonthsParse,a))?i:null:-1!==(i=$e.call(this._longMonthsParse,a))?i:null:'MMM'===t?-1!==(i=$e.call(this._shortMonthsParse,a))||-1!==(i=$e.call(this._longMonthsParse,a))?i:null:-1!==(i=$e.call(this._longMonthsParse,a))||-1!==(i=$e.call(this._shortMonthsParse,a))?i:null}function dt(e,t,n){var r,i,s;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=_([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp('^'+this.months(i,'').replace('.','')+'$','i'),this._shortMonthsParse[r]=new RegExp('^'+this.monthsShort(i,'').replace('.','')+'$','i')),n||this._monthsParse[r]||(s='^'+this.months(i,'')+'|^'+this.monthsShort(i,''),this._monthsParse[r]=new RegExp(s.replace('.',''),'i')),n&&'MMMM'===t&&this._longMonthsParse[r].test(e))return r;if(n&&'MMM'===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ht(e,t){if(!e.isValid())return e;if('string'==typeof t)if(/^\\d+$/.test(t))t=Pe(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function ft(e){return null!=e?(ht(this,e),r.updateOffset(this,!0),this):Qe(this,'Month')}function _t(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(o(this,'_monthsRegex')||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,'_monthsShortRegex')||(this._monthsShortRegex=at),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pt(e){return this._monthsParseExact?(o(this,'_monthsRegex')||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,'_monthsRegex')||(this._monthsRegex=ot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r,i,s=[],a=[],o=[];for(t=0;t<12;t++)n=_([2e3,t]),r=Te(this.monthsShort(n,'')),i=Te(this.months(n,'')),s.push(r),a.push(i),o.push(i),o.push(r);s.sort(e),a.sort(e),o.sort(e),this._monthsRegex=new RegExp('^('+o.join('|')+')','i'),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp('^('+a.join('|')+')','i'),this._monthsShortStrictRegex=new RegExp('^('+s.join('|')+')','i')}function gt(e,t,n,r,i,s,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,i,s,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,i,s,a),o}function vt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+vt(e,0,r).getUTCDay()-t)%7+r-1}function kt(e,t,n,r,i){var s,a,o=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return o<=0?a=ze(s=e-1)+o:o>ze(e)?(s=e+1,a=o-ze(e)):(s=e,a=o),{year:s,dayOfYear:a}}function bt(e,t,n){var r,i,s=wt(e.year(),t,n),a=Math.floor((e.dayOfYear()-s-1)/7)+1;return a<1?r=a+Dt(i=e.year()-1,t,n):a>Dt(e.year(),t,n)?(r=a-Dt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Dt(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(ze(e)-r+i)/7}function Mt(e){return bt(e,this._week.dow,this._week.doy).week}L('w',['ww',2],'wo','week'),L('W',['WW',2],'Wo','isoWeek'),Ye('w',he,Me),Ye('ww',he,le),Ye('W',he,Me),Ye('WW',he,le),We(['w','ww','W','WW'],(function(e,t,n,r){t[r.substr(0,1)]=Pe(e)}));var St={dow:0,doy:6};function Yt(){return this._week.dow}function xt(){return this._week.doy}function Ot(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),'d')}function Tt(e){var t=bt(this,1,4).week;return null==e?t:this.add(7*(e-t),'d')}function Nt(e,t){return'string'!=typeof e?e:isNaN(e)?'number'==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return'string'==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Rt(e,t){return e.slice(t,7).concat(e.slice(0,t))}L('d',0,'do','day'),L('dd',0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),L('ddd',0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),L('dddd',0,0,(function(e){return this.localeData().weekdays(this,e)})),L('e',0,0,'weekday'),L('E',0,0,'isoWeekday'),Ye('d',he),Ye('e',he),Ye('E',he),Ye('dd',(function(e,t){return t.weekdaysMinRegex(e)})),Ye('ddd',(function(e,t){return t.weekdaysShortRegex(e)})),Ye('dddd',(function(e,t){return t.weekdaysRegex(e)})),We(['dd','ddd','dddd'],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e})),We(['d','e','E'],(function(e,t,n,r){t[r]=Pe(e)}));var Ct='Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),Wt='Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),Ft='Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),Ut=De,Ht=De,At=De;function Et(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?'format':'standalone'];return!0===e?Rt(n,this._week.dow):e?n[e.day()]:n}function Lt(e){return!0===e?Rt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function It(e){return!0===e?Rt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=_([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,'').toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,'').toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,'').toLocaleLowerCase();return n?'dddd'===t?-1!==(i=$e.call(this._weekdaysParse,a))?i:null:'ddd'===t?-1!==(i=$e.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=$e.call(this._minWeekdaysParse,a))?i:null:'dddd'===t?-1!==(i=$e.call(this._weekdaysParse,a))||-1!==(i=$e.call(this._shortWeekdaysParse,a))||-1!==(i=$e.call(this._minWeekdaysParse,a))?i:null:'ddd'===t?-1!==(i=$e.call(this._shortWeekdaysParse,a))||-1!==(i=$e.call(this._weekdaysParse,a))||-1!==(i=$e.call(this._minWeekdaysParse,a))?i:null:-1!==(i=$e.call(this._minWeekdaysParse,a))||-1!==(i=$e.call(this._weekdaysParse,a))||-1!==(i=$e.call(this._shortWeekdaysParse,a))?i:null}function Gt(e,t,n){var r,i,s;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=_([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp('^'+this.weekdays(i,'').replace('.','\\\\.?')+'$','i'),this._shortWeekdaysParse[r]=new RegExp('^'+this.weekdaysShort(i,'').replace('.','\\\\.?')+'$','i'),this._minWeekdaysParse[r]=new RegExp('^'+this.weekdaysMin(i,'').replace('.','\\\\.?')+'$','i')),this._weekdaysParse[r]||(s='^'+this.weekdays(i,'')+'|^'+this.weekdaysShort(i,'')+'|^'+this.weekdaysMin(i,''),this._weekdaysParse[r]=new RegExp(s.replace('.',''),'i')),n&&'dddd'===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&'ddd'===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&'dd'===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function jt(e){if(!this.isValid())return null!=e?this:NaN;var t=Qe(this,'Day');return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,'d')):t}function Zt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,'d')}function zt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function $t(e){return this._weekdaysParseExact?(o(this,'_weekdaysRegex')||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,'_weekdaysRegex')||(this._weekdaysRegex=Ut),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(e){return this._weekdaysParseExact?(o(this,'_weekdaysRegex')||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,'_weekdaysShortRegex')||(this._weekdaysShortRegex=Ht),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bt(e){return this._weekdaysParseExact?(o(this,'_weekdaysRegex')||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,'_weekdaysMinRegex')||(this._weekdaysMinRegex=At),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,i,s,a=[],o=[],l=[],c=[];for(t=0;t<7;t++)n=_([2e3,1]).day(t),r=Te(this.weekdaysMin(n,'')),i=Te(this.weekdaysShort(n,'')),s=Te(this.weekdays(n,'')),a.push(r),o.push(i),l.push(s),c.push(r),c.push(i),c.push(s);a.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp('^('+c.join('|')+')','i'),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp('^('+l.join('|')+')','i'),this._weekdaysShortStrictRegex=new RegExp('^('+o.join('|')+')','i'),this._weekdaysMinStrictRegex=new RegExp('^('+a.join('|')+')','i')}function Qt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Kt(e,t){L(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return'p'===(e+'').toLowerCase().charAt(0)}L('H',['HH',2],0,'hour'),L('h',['hh',2],0,Qt),L('k',['kk',2],0,Xt),L('hmm',0,0,(function(){return''+Qt.apply(this)+F(this.minutes(),2)})),L('hmmss',0,0,(function(){return''+Qt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)})),L('Hmm',0,0,(function(){return''+this.hours()+F(this.minutes(),2)})),L('Hmmss',0,0,(function(){return''+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)})),Kt('a',!0),Kt('A',!1),Ye('a',en),Ye('A',en),Ye('H',he,Se),Ye('h',he,Me),Ye('k',he,Me),Ye('HH',he,le),Ye('hh',he,le),Ye('kk',he,le),Ye('hmm',fe),Ye('hmmss',_e),Ye('Hmm',fe),Ye('Hmmss',_e),Ce(['H','HH'],Le),Ce(['k','kk'],(function(e,t,n){var r=Pe(e);t[Le]=24===r?0:r})),Ce(['a','A'],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ce(['h','hh'],(function(e,t,n){t[Le]=Pe(e),p(n).bigHour=!0})),Ce('hmm',(function(e,t,n){var r=e.length-2;t[Le]=Pe(e.substr(0,r)),t[Ie]=Pe(e.substr(r)),p(n).bigHour=!0})),Ce('hmmss',(function(e,t,n){var r=e.length-4,i=e.length-2;t[Le]=Pe(e.substr(0,r)),t[Ie]=Pe(e.substr(r,2)),t[Ve]=Pe(e.substr(i)),p(n).bigHour=!0})),Ce('Hmm',(function(e,t,n){var r=e.length-2;t[Le]=Pe(e.substr(0,r)),t[Ie]=Pe(e.substr(r))})),Ce('Hmmss',(function(e,t,n){var r=e.length-4,i=e.length-2;t[Le]=Pe(e.substr(0,r)),t[Ie]=Pe(e.substr(r,2)),t[Ve]=Pe(e.substr(i))}));var nn=/[ap]\\.?m?\\.?/i,rn=Je('Hours',!0);function sn(e,t,n){return e>11?n?'pm':'PM':n?'am':'AM'}var an,on={calendar:C,longDateFormat:Z,invalidDate:$,ordinal:B,dayOfMonthOrdinalParse:J,relativeTime:X,months:rt,monthsShort:it,week:St,weekdays:Ct,weekdaysMin:Ft,weekdaysShort:Wt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace('_','-'):e}function hn(e){for(var t,n,r,i,s=0;s<e.length;){for(t=(i=dn(e[s]).split('-')).length,n=(n=dn(e[s+1]))?n.split('-'):null;t>0;){if(r=_n(i.slice(0,t).join('-')))return r;if(n&&n.length>=t&&un(i,n)>=t-1)break;t--}s++}return an}function fn(e){return!(!e||!e.match('^[^/\\\\\\\\]*$'))}function _n(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=an._abbr,Object(function(){var e=new Error('Cannot find module \\'undefined\\'');throw e.code='MODULE_NOT_FOUND',e}()),mn(n)}catch(e){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?gn(e):pn(e,t))?an=n:'undefined'!=typeof console&&console.warn&&console.warn('Locale '+e+' not found. Did you forget to load it?')),an._abbr}function pn(e,t){if(null!==t){var n,r=on;if(t.abbr=e,null!=ln[e])O('defineLocaleOverride','use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=_n(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new R(P(r,t)),cn[e]&&cn[e].forEach((function(e){pn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function yn(e,t){if(null!=t){var n,r,i=on;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(P(ln[e]._config,t)):(null!=(r=_n(e))&&(i=r._config),t=P(i,t),null==r&&(t.abbr=e),(n=new R(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!s(e)){if(t=_n(e))return t;e=[e]}return hn(e)}function vn(){return Y(ln)}function wn(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Ae]<0||n[Ae]>11?Ae:n[Ee]<1||n[Ee]>nt(n[He],n[Ae])?Ee:n[Le]<0||n[Le]>24||24===n[Le]&&(0!==n[Ie]||0!==n[Ve]||0!==n[Ge])?Le:n[Ie]<0||n[Ie]>59?Ie:n[Ve]<0||n[Ve]>59?Ve:n[Ge]<0||n[Ge]>999?Ge:-1,p(e)._overflowDayOfYear&&(t<He||t>Ee)&&(t=Ee),p(e)._overflowWeeks&&-1===t&&(t=je),p(e)._overflowWeekday&&-1===t&&(t=Ze),p(e).overflow=t),e}var kn=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,bn=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,Dn=/Z|[+-]\\d\\d(?::?\\d\\d)?/,Mn=[['YYYYYY-MM-DD',/[+-]\\d{6}-\\d\\d-\\d\\d/],['YYYY-MM-DD',/\\d{4}-\\d\\d-\\d\\d/],['GGGG-[W]WW-E',/\\d{4}-W\\d\\d-\\d/],['GGGG-[W]WW',/\\d{4}-W\\d\\d/,!1],['YYYY-DDD',/\\d{4}-\\d{3}/],['YYYY-MM',/\\d{4}-\\d\\d/,!1],['YYYYYYMMDD',/[+-]\\d{10}/],['YYYYMMDD',/\\d{8}/],['GGGG[W]WWE',/\\d{4}W\\d{3}/],['GGGG[W]WW',/\\d{4}W\\d{2}/,!1],['YYYYDDD',/\\d{7}/],['YYYYMM',/\\d{6}/,!1],['YYYY',/\\d{4}/,!1]],Sn=[['HH:mm:ss.SSSS',/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],['HH:mm:ss,SSSS',/\\d\\d:\\d\\d:\\d\\d,\\d+/],['HH:mm:ss',/\\d\\d:\\d\\d:\\d\\d/],['HH:mm',/\\d\\d:\\d\\d/],['HHmmss.SSSS',/\\d\\d\\d\\d\\d\\d\\.\\d+/],['HHmmss,SSSS',/\\d\\d\\d\\d\\d\\d,\\d+/],['HHmmss',/\\d\\d\\d\\d\\d\\d/],['HHmm',/\\d\\d\\d\\d/],['HH',/\\d\\d/]],Yn=/^\\/?Date\\((-?\\d+)/i,xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,On={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tn(e){var t,n,r,i,s,a,o=e._i,l=kn.exec(o)||bn.exec(o),c=Mn.length,u=Sn.length;if(l){for(p(e).iso=!0,t=0,n=c;t<n;t++)if(Mn[t][1].exec(l[1])){i=Mn[t][0],r=!1!==Mn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Sn[t][1].exec(l[3])){s=(l[2]||' ')+Sn[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Dn.exec(l[4]))return void(e._isValid=!1);a='Z'}e._f=i+(s||'')+(a||''),In(e)}else e._isValid=!1}function Nn(e,t,n,r,i,s){var a=[Pn(e),it.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function Pn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Rn(e){return e.replace(/\\([^()]*\\)|[\\n\\t]/g,' ').replace(/(\\s\\s+)/g,' ').replace(/^\\s\\s*/,'').replace(/\\s\\s*$/,'')}function Cn(e,t,n){return!e||Wt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Wn(e,t,n){if(e)return On[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Fn(e){var t,n=xn.exec(Rn(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Cn(n[1],t,e))return;e._a=t,e._tzm=Wn(n[8],n[9],n[10]),e._d=vt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Un(e){var t=Yn.exec(e._i);null===t?(Tn(e),!1===e._isValid&&(delete e._isValid,Fn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Hn(e,t,n){return null!=e?e:null!=t?t:n}function An(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function En(e){var t,n,r,i,s,a=[];if(!e._d){for(r=An(e),e._w&&null==e._a[Ee]&&null==e._a[Ae]&&Ln(e),null!=e._dayOfYear&&(s=Hn(e._a[He],r[He]),(e._dayOfYear>ze(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=vt(s,0,e._dayOfYear),e._a[Ae]=n.getUTCMonth(),e._a[Ee]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Le]&&0===e._a[Ie]&&0===e._a[Ve]&&0===e._a[Ge]&&(e._nextDay=!0,e._a[Le]=0),e._d=(e._useUTC?vt:gt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Le]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function Ln(e){var t,n,r,i,s,a,o,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,a=4,n=Hn(t.GG,e._a[He],bt(Bn(),1,4).year),r=Hn(t.W,1),((i=Hn(t.E,1))<1||i>7)&&(l=!0)):(s=e._locale._week.dow,a=e._locale._week.doy,c=bt(Bn(),s,a),n=Hn(t.gg,e._a[He],c.year),r=Hn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>Dt(n,s,a)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(o=kt(n,r,i,s,a),e._a[He]=o.year,e._dayOfYear=o.dayOfYear)}function In(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],p(e).empty=!0;var t,n,i,s,a,o,l,c=''+e._i,u=c.length,d=0;for(l=(i=j(e._f,e._locale).match(U)||[]).length,t=0;t<l;t++)s=i[t],(n=(c.match(xe(s,e))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&p(e).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),d+=n.length),E[s]?(n?p(e).empty=!1:p(e).unusedTokens.push(s),Fe(s,n,e)):e._strict&&!n&&p(e).unusedTokens.push(s);p(e).charsLeftOver=u-d,c.length>0&&p(e).unusedInput.push(c),e._a[Le]<=12&&!0===p(e).bigHour&&e._a[Le]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[Le]=Vn(e._locale,e._a[Le],e._meridiem),null!==(o=p(e).era)&&(e._a[He]=e._locale.erasConvertYear(o,e._a[He])),En(e),wn(e)}else Fn(e);else Tn(e)}function Vn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Gn(e){var t,n,r,i,s,a,o=!1,l=e._f.length;if(0===l)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)s=0,a=!1,t=k({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],In(t),y(t)&&(a=!0),s+=p(t).charsLeftOver,s+=10*p(t).unusedTokens.length,p(t).score=s,o?s<r&&(r=s,n=t):(null==r||s<r||a)&&(r=s,n=t,a&&(o=!0));f(e,n||t)}function jn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),En(e)}}function Zn(e){var t=new b(wn(zn(e)));return t._nextDay&&(t.add(1,'d'),t._nextDay=void 0),t}function zn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&''===t?g({nullInput:!0}):('string'==typeof t&&(e._i=t=e._locale.preparse(t)),D(t)?new b(wn(t)):(d(t)?e._d=t:s(n)?Gn(e):n?In(e):$n(e),y(e)||(e._d=null),e))}function $n(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):'string'==typeof t?Un(e):s(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),En(e)):a(t)?jn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function qn(e,t,n,r,i){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&l(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Zn(o)}function Bn(e,t,n,r){return qn(e,t,n,r,!1)}r.createFromInputFallback=S('value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',(function(e){e._d=new Date(e._i+(e._useUTC?' UTC':''))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Jn=S('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',(function(){var e=Bn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Qn=S('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',(function(){var e=Bn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Xn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Bn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Kn(){return Xn('isBefore',[].slice.call(arguments,0))}function er(){return Xn('isAfter',[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=['year','quarter','month','week','day','hour','minute','second','millisecond'];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(o(e,t)&&(-1===$e.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==Pe(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function sr(){return Or(NaN)}function ar(e){var t=re(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*o*60*60,this._days=+a+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function or(e){return e instanceof ar}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Pe(e[r])!==Pe(t[r]))&&a++;return a+s}function ur(e,t){L(e,0,0,(function(){var e=this.utcOffset(),n='+';return e<0&&(e=-e,n='-'),n+F(~~(e/60),2)+t+F(~~e%60,2)}))}ur('Z',':'),ur('ZZ',''),Ye('Z',ke),Ye('ZZ',ke),Ce(['Z','ZZ'],(function(e,t,n){n._useUTC=!0,n._tzm=hr(ke,e)}));var dr=/([\\+\\-]|\\d\\d)/gi;function hr(e,t){var n,r,i=(t||'').match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+'').match(dr)||['-',0,0])[1]+Pe(n[2]))?0:'+'===n[0]?r:-r}function fr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(D(e)||d(e)?e.valueOf():Bn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Bn(e).local()}function _r(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if('string'==typeof e){if(null===(e=hr(ke,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=_r(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,'m'),s!==e&&(!t||this._changeInProgress?Cr(this,Or(e-s,'m'),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:_r(this)}function pr(e,t){return null!=e?('string'!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(_r(this),'m')),this}function vr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if('string'==typeof this._i){var e=hr(we,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Bn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function kr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function br(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return k(t,this),(t=zn(t))._a?(e=t._isUTC?_(t._a):Bn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Dr(){return!!this.isValid()&&!this._isUTC}function Mr(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Yr=/^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,xr=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Or(e,t){var n,r,i,s=e,a=null;return or(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=Yr.exec(e))?(n='-'===a[1]?-1:1,s={y:0,d:Pe(a[Ee])*n,h:Pe(a[Le])*n,m:Pe(a[Ie])*n,s:Pe(a[Ve])*n,ms:Pe(lr(1e3*a[Ge]))*n}):(a=xr.exec(e))?(n='-'===a[1]?-1:1,s={y:Tr(a[2],n),M:Tr(a[3],n),w:Tr(a[4],n),d:Tr(a[5],n),h:Tr(a[6],n),m:Tr(a[7],n),s:Tr(a[8],n)}):null==s?s={}:'object'==typeof s&&('from'in s||'to'in s)&&(i=Pr(Bn(s.from),Bn(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),r=new ar(s),or(e)&&o(e,'_locale')&&(r._locale=e._locale),or(e)&&o(e,'_isValid')&&(r._isValid=e._isValid),r}function Tr(e,t){var n=e&&parseFloat(e.replace(',','.'));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,'M').isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,'M'),n}function Pr(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Rr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(O(t,'moment().'+t+'(period, number) is deprecated. Please use moment().'+t+'(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'),i=n,n=r,r=i),Cr(this,Or(n,r),e),this}}function Cr(e,t,n,i){var s=t._milliseconds,a=lr(t._days),o=lr(t._months);e.isValid()&&(i=null==i||i,o&&ht(e,Qe(e,'Month')+o*n),a&&Xe(e,'Date',Qe(e,'Date')+a*n),s&&e._d.setTime(e._d.valueOf()+s*n),i&&r.updateOffset(e,a||o))}Or.fn=ar.prototype,Or.invalid=sr;var Wr=Rr(1,'add'),Fr=Rr(-1,'subtract');function Ur(e){return'string'==typeof e||e instanceof String}function Hr(e){return D(e)||d(e)||Ur(e)||u(e)||Er(e)||Ar(e)||null==e}function Ar(e){var t,n,r=a(e)&&!l(e),i=!1,s=['years','year','y','months','month','M','days','day','d','dates','date','D','hours','hour','h','minutes','minute','m','seconds','second','s','milliseconds','millisecond','ms'],c=s.length;for(t=0;t<c;t+=1)n=s[t],i=i||o(e,n);return r&&i}function Er(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Ur(e)})).length),t&&n}function Lr(e){var t,n,r=a(e)&&!l(e),i=!1,s=['sameDay','nextDay','lastDay','nextWeek','lastWeek','sameElse'];for(t=0;t<s.length;t+=1)n=s[t],i=i||o(e,n);return r&&i}function Ir(e,t){var n=e.diff(t,'days',!0);return n<-6?'sameElse':n<-1?'lastWeek':n<0?'lastDay':n<1?'sameDay':n<2?'nextDay':n<7?'nextWeek':'sameElse'}function Vr(e,t){1===arguments.length&&(arguments[0]?Hr(arguments[0])?(e=arguments[0],t=void 0):Lr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Bn(),i=fr(n,this).startOf('day'),s=r.calendarFormat(this,i)||'sameElse',a=t&&(T(t[s])?t[s].call(this,n):t[s]);return this.format(a||this.localeData().calendar(s,this,Bn(n)))}function Gr(){return new b(this)}function jr(e,t){var n=D(e)?e:Bn(e);return!(!this.isValid()||!n.isValid())&&('millisecond'===(t=ne(t)||'millisecond')?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Zr(e,t){var n=D(e)?e:Bn(e);return!(!this.isValid()||!n.isValid())&&('millisecond'===(t=ne(t)||'millisecond')?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function zr(e,t,n,r){var i=D(e)?e:Bn(e),s=D(t)?t:Bn(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&('('===(r=r||'()')[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(')'===r[1]?this.isBefore(s,n):!this.isAfter(s,n))}function $r(e,t){var n,r=D(e)?e:Bn(e);return!(!this.isValid()||!r.isValid())&&('millisecond'===(t=ne(t)||'millisecond')?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function qr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Br(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jr(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=ne(t)){case'year':s=Qr(this,r)/12;break;case'month':s=Qr(this,r);break;case'quarter':s=Qr(this,r)/3;break;case'second':s=(this-r)/1e3;break;case'minute':s=(this-r)/6e4;break;case'hour':s=(this-r)/36e5;break;case'day':s=(this-r-i)/864e5;break;case'week':s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Ne(s)}function Qr(e,t){if(e.date()<t.date())return-Qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,'months');return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,'months')):(t-r)/(e.clone().add(n+1,'months')-r)))||0}function Xr(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')}function Kr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]':'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace('Z',G(n,'Z')):G(n,t?'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]':'YYYY-MM-DD[T]HH:mm:ss.SSSZ')}function ei(){if(!this.isValid())return'moment.invalid(/* '+this._i+' */)';var e,t,n,r,i='moment',s='';return this.isLocal()||(i=0===this.utcOffset()?'moment.utc':'moment.parseZone',s='Z'),e='['+i+'(\"]',t=0<=this.year()&&this.year()<=9999?'YYYY':'YYYYYY',n='-MM-DD[T]HH:mm:ss.SSS',r=s+'[\")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(D(e)&&e.isValid()||Bn(e).isValid())?Or({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Bn(),e)}function ii(e,t){return this.isValid()&&(D(e)&&e.isValid()||Bn(e).isValid())?Or({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function si(e){return this.to(Bn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat='YYYY-MM-DDTHH:mm:ssZ',r.defaultFormatUtc='YYYY-MM-DDTHH:mm:ss[Z]';var oi=S('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,di=60*ui,hi=3506328*di;function fi(e,t){return(e%t+t)%t}function _i(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function pi(e){var t,n;if(void 0===(e=ne(e))||'millisecond'===e||!this.isValid())return this;switch(n=this._isUTC?mi:_i,e){case'year':t=n(this.year(),0,1);break;case'quarter':t=n(this.year(),this.month()-this.month()%3,1);break;case'month':t=n(this.year(),this.month(),1);break;case'week':t=n(this.year(),this.month(),this.date()-this.weekday());break;case'isoWeek':t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case'day':case'date':t=n(this.year(),this.month(),this.date());break;case'hour':t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ui),di);break;case'minute':t=this._d.valueOf(),t-=fi(t,ui);break;case'second':t=this._d.valueOf(),t-=fi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=ne(e))||'millisecond'===e||!this.isValid())return this;switch(n=this._isUTC?mi:_i,e){case'year':t=n(this.year()+1,0,1)-1;break;case'quarter':t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case'month':t=n(this.year(),this.month()+1,1)-1;break;case'week':t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case'isoWeek':t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case'day':case'date':t=n(this.year(),this.month(),this.date()+1)-1;break;case'hour':t=this._d.valueOf(),t+=di-fi(t+(this._isUTC?0:this.utcOffset()*ui),di)-1;break;case'minute':t=this._d.valueOf(),t+=ui-fi(t,ui)-1;break;case'second':t=this._d.valueOf(),t+=ci-fi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function vi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function ki(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Di(){return this.isValid()?this.toISOString():null}function Mi(){return y(this)}function Si(){return f({},p(this))}function Yi(){return p(this).overflow}function xi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Oi(e,t){var n,i,s,a=this._eras||gn('en')._eras;for(n=0,i=a.length;n<i;++n)switch('string'==typeof a[n].since&&(s=r(a[n].since).startOf('day'),a[n].since=s.valueOf()),typeof a[n].until){case'undefined':a[n].until=1/0;break;case'string':s=r(a[n].until).startOf('day').valueOf(),a[n].until=s.valueOf()}return a}function Ti(e,t,n){var r,i,s,a,o,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(s=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),o=l[r].narrow.toUpperCase(),n)switch(t){case'N':case'NN':case'NNN':if(a===e)return l[r];break;case'NNNN':if(s===e)return l[r];break;case'NNNNN':if(o===e)return l[r]}else if([s,a,o].indexOf(e)>=0)return l[r]}function Ni(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf('day').valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return''}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf('day').valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return''}function Ci(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf('day').valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return''}function Wi(){var e,t,n,i,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,i=this.clone().startOf('day').valueOf(),s[e].since<=i&&i<=s[e].until||s[e].until<=i&&i<=s[e].since)return(this.year()-r(s[e].since).year())*n+s[e].offset;return this.year()}function Fi(e){return o(this,'_erasNameRegex')||Vi.call(this),e?this._erasNameRegex:this._erasRegex}function Ui(e){return o(this,'_erasAbbrRegex')||Vi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Hi(e){return o(this,'_erasNarrowRegex')||Vi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ai(e,t){return t.erasAbbrRegex(e)}function Ei(e,t){return t.erasNameRegex(e)}function Li(e,t){return t.erasNarrowRegex(e)}function Ii(e,t){return t._eraYearOrdinalRegex||ge}function Vi(){var e,t,n,r,i,s=[],a=[],o=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=Te(c[e].name),r=Te(c[e].abbr),i=Te(c[e].narrow),a.push(n),s.push(r),o.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp('^('+l.join('|')+')','i'),this._erasNameRegex=new RegExp('^('+a.join('|')+')','i'),this._erasAbbrRegex=new RegExp('^('+s.join('|')+')','i'),this._erasNarrowRegex=new RegExp('^('+o.join('|')+')','i')}function Gi(e,t){L(0,[e,e.length],0,t)}function ji(e){return Ji.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Zi(e){return Ji.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zi(){return Dt(this.year(),1,4)}function $i(){return Dt(this.isoWeekYear(),1,4)}function qi(){var e=this.localeData()._week;return Dt(this.year(),e.dow,e.doy)}function Bi(){var e=this.localeData()._week;return Dt(this.weekYear(),e.dow,e.doy)}function Ji(e,t,n,r,i){var s;return null==e?bt(this,r,i).year:(t>(s=Dt(e,r,i))&&(t=s),Qi.call(this,e,t,n,r,i))}function Qi(e,t,n,r,i){var s=kt(e,t,n,r,i),a=vt(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}L('N',0,0,'eraAbbr'),L('NN',0,0,'eraAbbr'),L('NNN',0,0,'eraAbbr'),L('NNNN',0,0,'eraName'),L('NNNNN',0,0,'eraNarrow'),L('y',['y',1],'yo','eraYear'),L('y',['yy',2],0,'eraYear'),L('y',['yyy',3],0,'eraYear'),L('y',['yyyy',4],0,'eraYear'),Ye('N',Ai),Ye('NN',Ai),Ye('NNN',Ai),Ye('NNNN',Ei),Ye('NNNNN',Li),Ce(['N','NN','NNN','NNNN','NNNNN'],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?p(n).era=i:p(n).invalidEra=e})),Ye('y',ge),Ye('yy',ge),Ye('yyy',ge),Ye('yyyy',ge),Ye('yo',Ii),Ce(['y','yy','yyy','yyyy'],He),Ce(['yo'],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[He]=n._locale.eraYearOrdinalParse(e,i):t[He]=parseInt(e,10)})),L(0,['gg',2],0,(function(){return this.weekYear()%100})),L(0,['GG',2],0,(function(){return this.isoWeekYear()%100})),Gi('gggg','weekYear'),Gi('ggggg','weekYear'),Gi('GGGG','isoWeekYear'),Gi('GGGGG','isoWeekYear'),Ye('G',ve),Ye('g',ve),Ye('GG',he,le),Ye('gg',he,le),Ye('GGGG',pe,ue),Ye('gggg',pe,ue),Ye('GGGGG',ye,de),Ye('ggggg',ye,de),We(['gggg','ggggg','GGGG','GGGGG'],(function(e,t,n,r){t[r.substr(0,2)]=Pe(e)})),We(['gg','GG'],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),L('Q',0,'Qo','quarter'),Ye('Q',oe),Ce('Q',(function(e,t){t[Ae]=3*(Pe(e)-1)})),L('D',['DD',2],'Do','date'),Ye('D',he,Me),Ye('DD',he,le),Ye('Do',(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ce(['D','DD'],Ee),Ce('Do',(function(e,t){t[Ee]=Pe(e.match(he)[0])}));var Ki=Je('Date',!0);function es(e){var t=Math.round((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return null==e?t:this.add(e-t,'d')}L('DDD',['DDDD',3],'DDDo','dayOfYear'),Ye('DDD',me),Ye('DDDD',ce),Ce(['DDD','DDDD'],(function(e,t,n){n._dayOfYear=Pe(e)})),L('m',['mm',2],0,'minute'),Ye('m',he,Se),Ye('mm',he,le),Ce(['m','mm'],Ie);var ts=Je('Minutes',!1);L('s',['ss',2],0,'second'),Ye('s',he,Se),Ye('ss',he,le),Ce(['s','ss'],Ve);var ns,rs,is=Je('Seconds',!1);for(L('S',0,0,(function(){return~~(this.millisecond()/100)})),L(0,['SS',2],0,(function(){return~~(this.millisecond()/10)})),L(0,['SSS',3],0,'millisecond'),L(0,['SSSS',4],0,(function(){return 10*this.millisecond()})),L(0,['SSSSS',5],0,(function(){return 100*this.millisecond()})),L(0,['SSSSSS',6],0,(function(){return 1e3*this.millisecond()})),L(0,['SSSSSSS',7],0,(function(){return 1e4*this.millisecond()})),L(0,['SSSSSSSS',8],0,(function(){return 1e5*this.millisecond()})),L(0,['SSSSSSSSS',9],0,(function(){return 1e6*this.millisecond()})),Ye('S',me,oe),Ye('SS',me,le),Ye('SSS',me,ce),ns='SSSS';ns.length<=9;ns+='S')Ye(ns,ge);function ss(e,t){t[Ge]=Pe(1e3*('0.'+e))}for(ns='S';ns.length<=9;ns+='S')Ce(ns,ss);function as(){return this._isUTC?'UTC':''}function os(){return this._isUTC?'Coordinated Universal Time':''}rs=Je('Milliseconds',!1),L('z',0,0,'zoneAbbr'),L('zz',0,0,'zoneName');var ls=b.prototype;function cs(e){return Bn(1e3*e)}function us(){return Bn.apply(null,arguments).parseZone()}function ds(e){return e}ls.add=Wr,ls.calendar=Vr,ls.clone=Gr,ls.diff=Jr,ls.endOf=yi,ls.format=ti,ls.from=ni,ls.fromNow=ri,ls.to=ii,ls.toNow=si,ls.get=Ke,ls.invalidAt=Yi,ls.isAfter=jr,ls.isBefore=Zr,ls.isBetween=zr,ls.isSame=$r,ls.isSameOrAfter=qr,ls.isSameOrBefore=Br,ls.isValid=Mi,ls.lang=oi,ls.locale=ai,ls.localeData=li,ls.max=Qn,ls.min=Jn,ls.parsingFlags=Si,ls.set=et,ls.startOf=pi,ls.subtract=Fr,ls.toArray=ki,ls.toObject=bi,ls.toDate=wi,ls.toISOString=Kr,ls.inspect=ei,'undefined'!=typeof Symbol&&null!=Symbol.for&&(ls[Symbol.for('nodejs.util.inspect.custom')]=function(){return'Moment<'+this.format()+'>'}),ls.toJSON=Di,ls.toString=Xr,ls.unix=vi,ls.valueOf=gi,ls.creationData=xi,ls.eraName=Pi,ls.eraNarrow=Ri,ls.eraAbbr=Ci,ls.eraYear=Wi,ls.year=qe,ls.isLeapYear=Be,ls.weekYear=ji,ls.isoWeekYear=Zi,ls.quarter=ls.quarters=Xi,ls.month=ft,ls.daysInMonth=_t,ls.week=ls.weeks=Ot,ls.isoWeek=ls.isoWeeks=Tt,ls.weeksInYear=qi,ls.weeksInWeekYear=Bi,ls.isoWeeksInYear=zi,ls.isoWeeksInISOWeekYear=$i,ls.date=Ki,ls.day=ls.days=jt,ls.weekday=Zt,ls.isoWeekday=zt,ls.dayOfYear=es,ls.hour=ls.hours=rn,ls.minute=ls.minutes=ts,ls.second=ls.seconds=is,ls.millisecond=ls.milliseconds=rs,ls.utcOffset=mr,ls.utc=yr,ls.local=gr,ls.parseZone=vr,ls.hasAlignedHourOffset=wr,ls.isDST=kr,ls.isLocal=Dr,ls.isUtcOffset=Mr,ls.isUtc=Sr,ls.isUTC=Sr,ls.zoneAbbr=as,ls.zoneName=os,ls.dates=S('dates accessor is deprecated. Use date instead.',Ki),ls.months=S('months accessor is deprecated. Use month instead',ft),ls.years=S('years accessor is deprecated. Use year instead',qe),ls.zone=S('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',pr),ls.isDSTShifted=S('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',br);var hs=R.prototype;function fs(e,t,n,r){var i=gn(),s=_().set(r,t);return i[n](s,e)}function _s(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||'',null!=t)return fs(e,t,n,'month');var r,i=[];for(r=0;r<12;r++)i[r]=fs(e,r,n,'month');return i}function ms(e,t,n,r){'boolean'==typeof e?(u(t)&&(n=t,t=void 0),t=t||''):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||'');var i,s=gn(),a=e?s._week.dow:0,o=[];if(null!=n)return fs(t,(n+a)%7,r,'day');for(i=0;i<7;i++)o[i]=fs(t,(i+a)%7,r,'day');return o}function ps(e,t){return _s(e,t,'months')}function ys(e,t){return _s(e,t,'monthsShort')}function gs(e,t,n){return ms(e,t,n,'weekdays')}function vs(e,t,n){return ms(e,t,n,'weekdaysShort')}function ws(e,t,n){return ms(e,t,n,'weekdaysMin')}hs.calendar=W,hs.longDateFormat=z,hs.invalidDate=q,hs.ordinal=Q,hs.preparse=ds,hs.postformat=ds,hs.relativeTime=K,hs.pastFuture=ee,hs.set=N,hs.eras=Oi,hs.erasParse=Ti,hs.erasConvertYear=Ni,hs.erasAbbrRegex=Ui,hs.erasNameRegex=Fi,hs.erasNarrowRegex=Hi,hs.months=lt,hs.monthsShort=ct,hs.monthsParse=dt,hs.monthsRegex=pt,hs.monthsShortRegex=mt,hs.week=Mt,hs.firstDayOfYear=xt,hs.firstDayOfWeek=Yt,hs.weekdays=Et,hs.weekdaysMin=It,hs.weekdaysShort=Lt,hs.weekdaysParse=Gt,hs.weekdaysRegex=$t,hs.weekdaysShortRegex=qt,hs.weekdaysMinRegex=Bt,hs.isPM=tn,hs.meridiem=sn,mn('en',{eras:[{since:'0001-01-01',until:1/0,offset:1,name:'Anno Domini',narrow:'AD',abbr:'AD'},{since:'0000-12-31',until:-1/0,offset:1,name:'Before Christ',narrow:'BC',abbr:'BC'}],dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Pe(e%100/10)?'th':1===t?'st':2===t?'nd':3===t?'rd':'th')}}),r.lang=S('moment.lang is deprecated. Use moment.locale instead.',mn),r.langData=S('moment.langData is deprecated. Use moment.localeData instead.',gn);var ks=Math.abs;function bs(){var e=this._data;return this._milliseconds=ks(this._milliseconds),this._days=ks(this._days),this._months=ks(this._months),e.milliseconds=ks(e.milliseconds),e.seconds=ks(e.seconds),e.minutes=ks(e.minutes),e.hours=ks(e.hours),e.months=ks(e.months),e.years=ks(e.years),this}function Ds(e,t,n,r){var i=Or(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ms(e,t){return Ds(this,e,t,1)}function Ss(e,t){return Ds(this,e,t,-1)}function Ys(e){return e<0?Math.floor(e):Math.ceil(e)}function xs(){var e,t,n,r,i,s=this._milliseconds,a=this._days,o=this._months,l=this._data;return s>=0&&a>=0&&o>=0||s<=0&&a<=0&&o<=0||(s+=864e5*Ys(Ts(o)+a),a=0,o=0),l.milliseconds=s%1e3,e=Ne(s/1e3),l.seconds=e%60,t=Ne(e/60),l.minutes=t%60,n=Ne(t/60),l.hours=n%24,a+=Ne(n/24),o+=i=Ne(Os(a)),a-=Ys(Ts(i)),r=Ne(o/12),o%=12,l.days=a,l.months=o,l.years=r,this}function Os(e){return 4800*e/146097}function Ts(e){return 146097*e/4800}function Ns(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if('month'===(e=ne(e))||'quarter'===e||'year'===e)switch(t=this._days+r/864e5,n=this._months+Os(t),e){case'month':return n;case'quarter':return n/3;case'year':return n/12}else switch(t=this._days+Math.round(Ts(this._months)),e){case'week':return t/7+r/6048e5;case'day':return t+r/864e5;case'hour':return 24*t+r/36e5;case'minute':return 1440*t+r/6e4;case'second':return 86400*t+r/1e3;case'millisecond':return Math.floor(864e5*t)+r;default:throw new Error('Unknown unit '+e)}}function Ps(e){return function(){return this.as(e)}}var Rs=Ps('ms'),Cs=Ps('s'),Ws=Ps('m'),Fs=Ps('h'),Us=Ps('d'),Hs=Ps('w'),As=Ps('M'),Es=Ps('Q'),Ls=Ps('y'),Is=Rs;function Vs(){return Or(this)}function Gs(e){return e=ne(e),this.isValid()?this[e+'s']():NaN}function js(e){return function(){return this.isValid()?this._data[e]:NaN}}var Zs=js('milliseconds'),zs=js('seconds'),$s=js('minutes'),qs=js('hours'),Bs=js('days'),Js=js('months'),Qs=js('years');function Xs(){return Ne(this.days()/7)}var Ks=Math.round,ea={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ta(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function na(e,t,n,r){var i=Or(e).abs(),s=Ks(i.as('s')),a=Ks(i.as('m')),o=Ks(i.as('h')),l=Ks(i.as('d')),c=Ks(i.as('M')),u=Ks(i.as('w')),d=Ks(i.as('y')),h=s<=n.ss&&['s',s]||s<n.s&&['ss',s]||a<=1&&['m']||a<n.m&&['mm',a]||o<=1&&['h']||o<n.h&&['hh',o]||l<=1&&['d']||l<n.d&&['dd',l];return null!=n.w&&(h=h||u<=1&&['w']||u<n.w&&['ww',u]),(h=h||c<=1&&['M']||c<n.M&&['MM',c]||d<=1&&['y']||['yy',d])[2]=t,h[3]=+e>0,h[4]=r,ta.apply(null,h)}function ra(e){return void 0===e?Ks:'function'==typeof e&&(Ks=e,!0)}function ia(e,t){return void 0!==ea[e]&&(void 0===t?ea[e]:(ea[e]=t,'s'===e&&(ea.ss=t-1),!0))}function sa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,s=ea;return'object'==typeof e&&(t=e,e=!1),'boolean'==typeof e&&(i=e),'object'==typeof t&&(s=Object.assign({},ea,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),r=na(this,!i,s,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var aa=Math.abs;function oa(e){return(e>0)-(e<0)||+e}function la(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,s,a,o,l=aa(this._milliseconds)/1e3,c=aa(this._days),u=aa(this._months),d=this.asSeconds();return d?(e=Ne(l/60),t=Ne(e/60),l%=60,e%=60,n=Ne(u/12),u%=12,r=l?l.toFixed(3).replace(/\\.?0+$/,''):'',i=d<0?'-':'',s=oa(this._months)!==oa(d)?'-':'',a=oa(this._days)!==oa(d)?'-':'',o=oa(this._milliseconds)!==oa(d)?'-':'',i+'P'+(n?s+n+'Y':'')+(u?s+u+'M':'')+(c?a+c+'D':'')+(t||e||l?'T':'')+(t?o+t+'H':'')+(e?o+e+'M':'')+(l?o+r+'S':'')):'P0D'}var ca=ar.prototype;return ca.isValid=ir,ca.abs=bs,ca.add=Ms,ca.subtract=Ss,ca.as=Ns,ca.asMilliseconds=Rs,ca.asSeconds=Cs,ca.asMinutes=Ws,ca.asHours=Fs,ca.asDays=Us,ca.asWeeks=Hs,ca.asMonths=As,ca.asQuarters=Es,ca.asYears=Ls,ca.valueOf=Is,ca._bubble=xs,ca.clone=Vs,ca.get=Gs,ca.milliseconds=Zs,ca.seconds=zs,ca.minutes=$s,ca.hours=qs,ca.days=Bs,ca.weeks=Xs,ca.months=Js,ca.years=Qs,ca.humanize=sa,ca.toISOString=la,ca.toString=la,ca.toJSON=la,ca.locale=ai,ca.localeData=li,ca.toIsoString=S('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',la),ca.lang=oi,L('X',0,0,'unix'),L('x',0,0,'valueOf'),Ye('x',ve),Ye('X',be),Ce('X',(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ce('x',(function(e,t,n){n._d=new Date(Pe(e))})),r.version='2.30.1',i(Bn),r.fn=ls,r.min=Kn,r.max=er,r.now=tr,r.utc=_,r.unix=cs,r.months=ps,r.isDate=d,r.locale=mn,r.invalid=g,r.duration=Or,r.isMoment=D,r.weekdays=gs,r.parseZone=us,r.localeData=gn,r.isDuration=or,r.monthsShort=ys,r.weekdaysMin=ws,r.defineLocale=pn,r.updateLocale=yn,r.locales=vn,r.weekdaysShort=vs,r.normalizeUnits=ne,r.relativeTimeRounding=ra,r.relativeTimeThreshold=ia,r.calendarFormat=Ir,r.prototype=ls,r.HTML5_FMT={DATETIME_LOCAL:'YYYY-MM-DDTHH:mm',DATETIME_LOCAL_SECONDS:'YYYY-MM-DDTHH:mm:ss',DATETIME_LOCAL_MS:'YYYY-MM-DDTHH:mm:ss.SSS',DATE:'YYYY-MM-DD',TIME:'HH:mm',TIME_SECONDS:'HH:mm:ss',TIME_MS:'HH:mm:ss.SSS',WEEK:'GGGG-[W]WW',MONTH:'YYYY-MM'},r}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}return n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(906)})())); return ContactSummary;",
  "tasks": {
    "rules": "(()=>{var e={292:e=>{function t(e,n){var r=Object.keys(e);for(var i in r){var o=r[i];switch(typeof e[o]){case'object':t(e[o],n);break;case'function':e[o]=e[o].bind(n)}}}function n(e){var t=Object.assign({},e),r=Object.keys(t);for(var i in r){var o=r[i];if(Array.isArray(t[o])){t[o]=t[o].slice(0);for(var s=0;s<t[o].length;++s)'object'==typeof t[o][s]&&(t[o][s]=n(t[o][s]))}else'object'==typeof t[o]&&(t[o]=n(t[o]))}return t}e.exports=function(e){var r={};t(e,r),r.definition=n(e)}},823:(e,t,n)=>{var r=n(292);function i(e,t,n,r,i,o){var s=!!o;if(i.contact){var a='contact'===i.contact.type?i.contact.contact_type:i.contact.type,l=s?o.form:a;if(!(e.appliesToType&&e.appliesToType.indexOf(l)<0)&&(!e.appliesIf||e.appliesIf(i,o)))for(var _=s?o:i.contact,c=function(e,t,n){var r;return r='function'==typeof e.idType?e.idType(t,n):'report'===e.idType?n&&n._id:t.contact&&t.contact._id,Array.isArray(r)||(r=[r]),r}(e,i,o),d=!e.passesIf||!!e.passesIf(i,o),p=function(e,t,n,r){if('function'==typeof e.date)return e.date(n,r)||t.now().getTime();if(void 0===e.date||null===e.date||'now'===e.date)return t.now().getTime();if('reported'===e.date)return r?r.reported_date:n.contact.reported_date;throw new Error('Unrecognised value for target.date: '+e.date)}(e,n,i,o),f=e.groupBy&&e.groupBy(i,o),u=0;u<c.length;++u){var g=new t({_id:c[u]+'~'+e.id,contact:i.contact,deleted:!!_.deleted,type:e.id,pass:d,groupBy:f,date:p});e.emitCustom?e.emitCustom(m,g,i,o):m(g)}}function m(e){r('target',e)}}e.exports=function(e,t,n,o,s){for(var a=0;a<e.length;++a){var l=e[a];switch(r(l),l.appliesTo){case'contacts':i(l,o,n,s,t);break;case'reports':for(var _=0;_<t.reports.length;++_){i(l,o,n,s,t,t.reports[_])}break;default:throw new Error('Unrecognised target.appliesTo: '+l.appliesTo)}}}},436:e=>{e.exports={defaultResolvedIf:function(e,t,n,r,i){var o,s;i||(i=Utils);var a=function(e){var t;if(!e||!e.actions)return;return(t=e.actions.find((function(e){return!e.type||'report'===e.type})))&&t.form}(this.definition);if(!a)throw new Error('Could not find the default resolving form!');return o=0,o=t?Math.max(i.addDate(r,-n.start).getTime(),t.reported_date+1):i.addDate(r,-n.start).getTime(),s=i.addDate(r,n.end+1).getTime(),i.isFormSubmittedInWindow(e.reports,a,o,s)}}},571:(e,t,n)=>{var r=n(292),i=n(436);function o(e,t,n,r,i,o){var s;if(e.appliesToType){var a;if('contacts'===e.appliesTo){if(!i.contact)return;a='contact'===i.contact.type?i.contact.contact_type:i.contact.type}else{if(!o)return;a=o.form}if(-1===e.appliesToType.indexOf(a))return}if('scheduled_tasks'===e.appliesTo||!e.appliesIf||e.appliesIf(i,o))if('scheduled_tasks'===e.appliesTo){if(o&&e.appliesIf){if(!o.scheduled_tasks)return;for(s=0;s<o.scheduled_tasks.length;s++)e.appliesIf(i,o,s)&&_(s)}}else _();function l(e,t,n){var r;return(r='function'==typeof e.contactLabel?e.contactLabel(t,n):e.contactLabel)?{name:r}:t.contact}function _(s){var a,_,d,p,f=null;for(a=0;a<e.events.length;a++){if((_=e.events[a]).dueDate)f=_.dueDate(_,i,o,s);else if(o)f=void 0!==s?new Date(t.addDate(new Date(o.scheduled_tasks[s].due),_.days)):new Date(t.addDate(new Date(o.reported_date),_.days));else if(_.dueDate)f=_.dueDate(_,i);else{var u=i.contact&&i.contact.reported_date?new Date(i.contact.reported_date):new Date;f=new Date(t.addDate(u,_.days))}t.isTimely(f,_)&&(p={_id:(o?o._id:i.contact&&i.contact._id)+'~'+(_.id||a)+'~'+e.name,deleted:!(!(i.contact&&i.contact.deleted||o)||!o.deleted),doc:i,contact:l(e,i,o),icon:e.icon,date:f,readyStart:_.start||0,readyEnd:_.end||0,title:e.title,resolved:e.resolvedIf(i,o,_,f,s),actions:c(e.actions,_)},void 0!==s&&(p._id+='-'+s),'function'==typeof(d=e.priority)&&(d=d(i,o)),d&&(p.priority=d.level,p.priorityLabel=d.label),r('task',new n(p)))}}function c(t,n){return e.actions.map((function(e){return function(e,t){var n={source:'task',source_id:o?o._id:i.contact&&i.contact._id,contact:i.contact};e.modifyContent&&e.modifyContent(n,i,o,t);return{type:e.type||'report',form:e.form,label:e.label||'Follow up',content:n}}(e,n)}))}}e.exports=function(e,t,n,s,a){if(e)for(var l,_,c=0;c<e.length;++c)switch('function'!=typeof(l=Object.assign({},e[c],i)).resolvedIf&&(l.resolvedIf=function(e,t,r,i){return l.defaultResolvedIf(e,t,r,i,n)}),r(l),l.appliesTo){case'reports':case'scheduled_tasks':for(var d=0;d<t.reports.length;++d)_=t.reports[d],o(l,n,s,a,t,_);break;case'contacts':t.contact&&o(l,n,s,a,t);break;default:throw new Error('Unrecognised task.appliesTo: '+l.appliesTo)}}},55:e=>{e.exports={babyDangerSigns:['h_res','chest','umb_cord','y_hand','pustules','poor_mo','fever','suck_breast','vomits'],motherDangerSigns:['high_fever','vaginal_bleeding','body_spasm','blurred_vision','abdominal_pain','vagi_discharge','calf_redness','leak_urine','mood_swings','bleeding_surgery'],hypertensionDangerSigns:['eye_vision','head_ache','chest_pain','tire_breath','swollen_part'],diabetesDangerSigns:['low_eyesight','dry_skin','sore_feet','freq_urination','weight_loss','hungry','numb_tingling','feeling_tired']}},190:(e,t,n)=>{const{hypertensionDangerSigns:r,diabetesDangerSigns:i,babyDangerSigns:o,motherDangerSigns:s}=n(55),a=w(Date.now()),l=864e5,_=294,c=['pregnancy'],d=['delivery'],p=['pregnancy_home_visit'],f=['pregnancy','pregnancy_home_visit','pregnancy_danger_sign','delivery'],u=n(766),g=n(989);const m=(e,t)=>['fields',...(t||'').split('.')].reduce(((e,t)=>{if(void 0!==e)return e[t]}),e);function y(e,t){let n;return e.forEach((function(e){t.includes(e.form)&&!e.deleted&&(!n||e.reported_date>n.reported_date)&&(n=e)})),n}function h(e){if(!e)return new Date;const t=e.split(/\\D/),n=new Date(t[0],t[1]-1,t[2]);return function(e){return e instanceof Date&&!isNaN(e)}(n)?n:new Date}function v(e){const t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function w(e){if('string'==typeof e){if(''===e)return null;e=h(e)}return v(e).getTime()}function b(e,t){const n=v(new Date(e));return n.setDate(n.getDate()+t),n}function T(e){return c.includes(e.form)}function k(e){return p.includes(e.form)}const D=function(e,t){let n;return e.forEach((function(e){t.includes(e.form)&&(!n||e.reported_date>n.reported_date)&&(n=e)})),n},I=function(e){return T(e)&&w(m(e,'lmp_date_8601'))},x=function(e){return k(e)&&w(m(e,'lmp_date_8601'))};function S(e,t){return e.reports.filter((function(e){let n=I(t);return n||(n=t.reported_date),k(e)&&e.reported_date>t.reported_date&&e.reported_date<b(n,_)}))}function C(e,t){let n=I(t),r=t.reported_date;return S(e,t).forEach((function(e){const t=x(e);e.reported_date>r&&''!==t&&t!==n&&(r=e.reported_date,n=t)})),n}function F(e){const t=e.reports.filter((e=>'pnc_danger_sign_follow_up_baby'===e.form));return t&&t[t.length-1]&&t[t.length-1].fields||e.contact}e.exports={today:a,MS_IN_DAY:l,MAX_DAYS_IN_PREGNANCY:_,getPncServiceDangerSigns:function(e){const t=t=>{const n=new Set,r='baby'===t?o:s;for(let i=1;i<=4;i++)r.forEach((r=>{'yes'===m(e,'baby'===t?`pnc_services_for_newborns_${i}.${r}_${i}`:`pnc_service_for_mother.${r}`)&&n.add(`${r}_${i}`)}));return Array.from(n).join(', ')};return{babyDangerSigns:t('baby'),motherDangerSigns:t('mother')}},getPNCServiceDangerSignReferral:function(e){const t={};return['danger_sign_mother','danger_sign_child'].forEach((n=>{const r=n.slice(n.lastIndexOf('.')+1);t[r]=m(e,n)})),t},getDueDateForPNCService:function(e,t){const n=function(e){const t=m(e,'preg_info.delivery_date'),n=e.reported_date;return n&&t?Math.floor((new Date(n)-new Date(t))/864e5):null}(e),r=m(e,'preg_info.delivery_date'),i=m(e,'pnccheck.pnc_check_no');return!r||n>t?null:{0:t>=2,1:t>=13,2:t>=41}[i]?b(r,t):null},addDays:b,isAlive:function(e){return e&&e.contact&&!e.contact.date_of_death},isDangerSignPresentMother:function(e){return m(e,'mother_info.pnc_danger_sign_check')?'yes'===m(e,'mother_info.pnc_danger_sign_check.r_pnc_danger_sign_present'):'yes'===m(e,'danger_signs.r_danger_sign_present')},getRiskContextNCD:function(e,t='hypertension'){const n={hypertension:r,diabetes:i},o={danger_sign_code:m(e,'danger_sign_code')};return o[`${t}DangerSigns`]=n[t].filter((t=>'yes'===m(e,`danger_signs.${t}`))).join(', '),o},ncdExtractFields:function(e,t){const n={bmical_show_ctx_diabetes:e.fields.bmical_show_ctx_diabetes,bmi_result_ctx_diabetes:e.fields.bmi_result_ctx_diabetes,glucometer_ctx:e.fields.glucometer_ctx,dt_pps_rbs_ctx:e.fields.dt_pps_rbs_ctx,dt_fbs_ctx:e.fields.dt_fbs_ctx},r={bmical_show_ctx:e.fields.bmical_show_ctx,bmi_result_ctx:e.fields.bmi_result_ctx,systolic_result:e.fields.systolic_result,diastolic_result:e.fields.diastolic_result,avg_result:e.fields.avg_result};return'diabetes'===t?n:r},getActiveDangerSignsMother:function(e){const t=g.dangerSignDictionaryNepali,n=t=>{const n=m(e,'mother_info.pnc_danger_sign_check')||m(e,'danger_signs');let r='';return Object.entries(n).filter((([e])=>Object.keys(t).includes(e))).forEach((([e,n])=>{if('yes'===n.toLowerCase()){const n=t[e];r=`${n}, ${r}`}})),r.slice(null,-2)};return{en:n(g.dangerSignDictionaryEnglish),ne:n(t)}},getActiveDangerSignsChild:function(e){const t=t=>{const n={};return t.forEach((t=>{n[`${t.slice(t.lastIndexOf('.')+1)}_ctx`]=m(e,t)})),n};if('child_referral_followup'===e.form)return t(['child_age_months','child_referral_followup_form.unable_to_drink_milk','child_referral_followup_form.vomit_everything','child_referral_followup_form.convulsions','child_referral_followup_form.lethargic_or_unconscious','child_referral_followup_form.convulsions_now','child_referral_followup_form.any_other_danger']);const n=t(['child_age_months','fiftynine_days.suck_breast','fiftynine_days.convulsions_59_days','fiftynine_days.severe_chest_indrawing','fiftynine_days.nasal_flaring','fiftynine_days.bulging_fontanelle','fiftynine_days.redness_spread','fiftynine_days.umbilical_red_pus','fiftynine_days.lethargic_unconscious','fiftynine_days.skin_blisters','fiftynine_days.pus_discharge_from_eye','fiftynine_days.jaundice','fiftynine_days.jaundice_spread','fiftynine_days.watery_stool_59days','fiftynine_days.lethargic_unconscious_59_days','fiftynine_days.sunken_eyes','fiftynine_days.irritable_restless','fiftynine_days.abdominal_skin_pull_slow','fiftynine_days.child_temperature_59days','fiftynine_days.respiration_rate_59_days','twomonths_fiveyears.unable_to_suck_drink','twomonths_fiveyears.vomit_everything','twomonths_fiveyears.convulsions_2months_5years','twomonths_fiveyears.lethargic_unconscious_2months_5years','twomonths_fiveyears.convulsions_now','twomonths_fiveyears.chest_indrawing','twomonths_fiveyears.stridor','twomonths_fiveyears.stiff_neck','twomonths_fiveyears.had_measles.red_rashes','twomonths_fiveyears.had_measles.cough_runnynose_redeyes','twomonths_fiveyears.had_measles.wound_in_mouth','twomonths_fiveyears.had_measles.blurred_cornea','twomonths_fiveyears.had_measles.pus_discharge_eye','twomonths_fiveyears.swelling_behind_ear','twomonths_fiveyears.pus_discharge','twomonths_fiveyears.muac','twomonths_fiveyears.child_temperature_2months_5years','twomonths_fiveyears.respiration_rate_2months_5years','twomonths_fiveyears.cough_difficulty_breathing','twomonths_fiveyears.wheeze','twomonths_fiveyears.watery_stool_2months_5years','twomonths_fiveyears.ear_pain','twomonths_fiveyears.whiteness_on_palms']),r=m(e,'twomonths_fiveyears.signs_symptoms');if(r&&'none'!==r){const e=['lethargic','sunken_eyes','cannot_drink','drinks_eagerly','abdomen_skin_2sec','restless','abdomen_skin_slow','blood_in_stool'];let t=0;const i=r.split(' ');if(i.forEach((n=>{e.includes(n)&&(t+=1)})),t>1){const e={lethargic:'Lethargic or unconscious',sunken_eyes:'Sunken eyes',cannot_drink:'Cannot drink or drinks very slowly',drinks_eagerly:'Drinks eagerly',abdomen_skin_2sec:'Abdomen skin returns very slowly when pulled (taking more than 2 seconds to return to normal)',restless:'Irritable or restless',abdomen_skin_slow:'Abdomen skin returns slowly when pulled',blood_in_stool:'There is blood in the stool'},t={lethargic:'सुस्त वा बेहोस छ',sunken_eyes:'आँखा गडेको छ',cannot_drink:'पिउन नसक्ने वा धेरै बिस्तारै पिउने',drinks_eagerly:'खूब तिर्खाए झैँ गरि पिउँछ',abdomen_skin_2sec:'पेटको छाला औलाले तानेर छोडदा धेरै बिस्तारै फर्किन्छ (२ सेकेण्ड भन्दा बढी समय लगाएर)',restless:'छटपटिने/झिंजिने छ',abdomen_skin_slow:'पेटको छाला औलाले तानेर छोडदा बिस्तारै फर्किन्छ',blood_in_stool:'दिसामा रगत छ'};n.signs_ne_ctx='',n.signs_en_ctx='',i.forEach((r=>{n.signs_en_ctx+=`${e[r]}, `,n.signs_ne_ctx+=`${t[r]}, `})),n.signs_en_ctx=n.signs_en_ctx.slice(null,-2),n.signs_ne_ctx=n.signs_ne_ctx.slice(null,-2)}}return n},getBabyFields:F,getActiveDangerSignsBaby:function(e){const t=u.dangerSignDictionaryNepali,n=t=>{const n=F(e).danger_signs;let r='';return Object.entries(n).filter((([e])=>Object.keys(t).includes(e))).forEach((([e,n])=>{if('yes'===n.toLowerCase()){const n=t[e];r=`${n}, ${r}`}})),r.slice(null,-2)};return{en:n(u.dangerSignDictionaryEnglish),ne:n(t)}},getTimeForMidnight:v,isFormArraySubmittedInWindow:function(e,t,n,r,i){let o=!1,s=0;return e.forEach((function(e){t.includes(e.form)&&e.reported_date>=n&&e.reported_date<=r&&(o=!0,i&&s++)})),i?s>=i:o},isFormArraySubmittedInWindowExcludingThisReport:function(e,t,n,r,i,o){let s=!1,a=0;return e.forEach((function(e){t.includes(e.form)&&e.reported_date>=n&&e.reported_date<=r&&e._id!==i._id&&(s=!0,o&&a++)})),o?a>=o:s},getDateMS:w,getDateISOLocal:h,isDeliveryForm:function(e){return d.includes(e.form)},getMostRecentReport:y,getNewestPregnancyTimestamp:function(e){if(!e.contact)return;const t=y(e.reports,'pregnancy');return t?t.reported_date:0},getNewestDeliveryTimestamp:function(e){if(!e.contact)return;const t=y(e.reports,'delivery');return t?t.reported_date:0},getReportsSubmittedInWindow:function(e,t,n,r,i){const o=[];return e.forEach((function(e){t.includes(e.form)&&e.reported_date>=n&&e.reported_date<=r&&(i&&!i(e)||o.push(e))})),o},countReportsSubmittedInWindow:function(e,t,n,r,i){let o=0;return e.forEach((function(e){t.includes(e.form)&&e.reported_date>=n&&e.reported_date<=r&&(i&&!i(e)||o++)})),o},countANCFacilityVisits:function(e,t){let n=0;const r=S(e,t);return m(t,'anc_visits_hf.anc_visits_hf_past')&&!isNaN(m(t,'anc_visits_hf.anc_visits_hf_past.visited_hf_count'))&&(n+=parseInt(m(t,'anc_visits_hf.anc_visits_hf_past.visited_hf_count'))),n+=r.reduce((function(e,t){const n=m(t,'anc_visits_hf.anc_visits_hf_past');return n?(e+='yes'===n.last_visit_attended&&1,isNaN(n.visited_hf_count)?e:e+('yes'===n.report_other_visits&&parseInt(n.visited_hf_count))):0}),0),n},isFacilityDelivery:function(e,t){return!!e&&(1===arguments.length&&(t=e),'yes'===m(t,'facility_delivery'))},getMostRecentLMPDateForPregnancy:C,getNewestReport:D,getSubsequentPregnancyFollowUps:S,isActivePregnancy:function(e,t){if(!T(t))return!1;const n=(C(e,t)||t.reported_date)>a-_*l,r=function(e,t,n){return e.reports.filter((function(e){return'delivery'===e.form&&e.reported_date>t.reported_date&&(!n||t.reported_date>=a-n*l)}))}(e,t,42).length>0,i=function(e,t){return e.reports.filter((function(e){return T(e)&&e.reported_date>t.reported_date}))}(e,t).length>0;return n&&!r&&!i&&!function(e,t){const n=S(e,t),r=D(n,p);return r&&'abortion'===m(r,'pregnancy_summary.visit_option')}(e,t)&&!function(e,t){const n=S(e,t),r=D(n,p);return r&&'miscarriage'===m(r,'pregnancy_summary.visit_option')}(e,t)},getRecentANCVisitWithEvent:function(e,t,n){const r=S(e,t),i=D(r,p);if(i&&m(i,'pregnancy_summary.visit_option')===n)return i},isPregnancyTaskMuted:function(e){const t=D(e.reports,f);return t&&k(t)&&'clear_all'===m(t,'pregnancy_ended.clear_option')},getField:m,cervicalForms:['cervical_cancer_screening']}},931:e=>{e.exports=[]},223:(e,t,n)=>{const r=n(190),{isFormArraySubmittedInWindow:i,getRecentANCVisitWithEvent:o,isPregnancyTaskMuted:s,addDays:a,getNewestDeliveryTimestamp:l,getNewestPregnancyTimestamp:_,getMostRecentLMPDateForPregnancy:c,getTimeForMidnight:d,getField:p,getMostRecentReport:f,cervicalForms:u}=r;e.exports={ancSchedule:[{start:35,due:84,end:7},{start:27,due:112,end:21},{start:35,due:168,end:7},{start:7,due:196,end:7},{start:7,due:224,end:7},{start:7,due:238,end:7},{start:7,due:252,end:7},{start:21,due:280,end:7}],pncSchedule:[{start:100,due:2,end:2},{start:600,due:13,end:2},{start:200,due:41,end:2}],checkTaskAppliesForMentalHealthReferralFollowup:function(e,t){if('mental_health_referral_follow_up'===t.form)return'no'===p(t,'mental_health_treatment_followup.visited_hospital_or_not');let n=p(t,'mental_health_screening.changes_in_behavior');if('none'===n.trim())return!1;n=n.split(' ').map((e=>e.trim()));let r=!1;return[[['weak_and_helpless','suicidal_thoughts'],['convulsion_and_froathing','other_signs_and_symptoms']],[['powerful_person','talk_unnecessary','audio_hallucination','walk_around_dirty'],['loss_of_interest_in_work','insomnia','disappointed_with_life','thinking_future_is_dark','getting_angry_quickly'],['anxiety_heart_palpitations','rude','body_ache','no_health_issue','stress_feeling']]].forEach(((e,t)=>{r||e.forEach((e=>{e.filter((e=>n.includes(e))).length>t&&(r=!0)}))})),r},checkTaskAppliesForCervicalCancerFollowup:function(e,t){return'cervical_cancer_screening'===t.form?'no'===p(t,'screening_for_cervical_cancer.checked_cervical_cancer'):!(e.reports.filter((t=>{if('cervical_cancer_referral_follow_up_visit'!==t.form)return!1;const n=f(e.reports,u);return t.reported_date>n.reported_date})).length>1)&&'no'===p(t,'cervical_cancer_followup.visit_exam')},checkTaskResolvedForDeliveryReminder:function(e,t,n,r){if(o(e,t,'abortion')||o(e,t,'miscarriage'))return!0;if(s(e))return!0;const i=c(e,t),l=a(r,n.end+1).getTime();return function(e,t,n,r,i){const o=f(e,t);if(!o)return!1;const s=p(o,n),a=new Date(s);return!isNaN(a)&&a>=new Date(r)&&a<=new Date(i)}(e.reports,['delivery'],'preg_info.delivery_date',i,l)},checkTaskResolvedForHomeVisit:function(e,t,n,r){if(t.reported_date<l(e))return!0;if(t.reported_date<_(e))return!0;if(o(e,t,'abortion')||o(e,t,'miscarriage'))return!0;if(a(r,n.end)<=d(t.reported_date))return!0;if(s(e))return!0;const c=Math.max(a(r,-n.start).getTime(),t.reported_date),p=a(r,n.end+1).getTime();return i(e.reports,['pregnancy_home_visit'],c,p)},checkNotUndefinedorNone:function(e,t){const n=p(e,t);return n&&'none'!==n}}},991:(e,t,n)=>{const r=n(190),i=n(223),{isFormArraySubmittedInWindow:o,getMostRecentLMPDateForPregnancy:s,addDays:a,isPregnancyTaskMuted:l,isAlive:_,getDateISOLocal:c,isDeliveryForm:d,isDangerSignPresentMother:p,getActiveDangerSignsMother:f,getBabyFields:u,getDueDateForPNCService:g,getActiveDangerSignsBaby:m,getActiveDangerSignsChild:y,getRiskContextNCD:h,ncdExtractFields:v,getPncServiceDangerSigns:w,getPNCServiceDangerSignReferral:b,getField:T}=r,{ancSchedule:k,pncSchedule:D,checkTaskAppliesForMentalHealthReferralFollowup:I,checkTaskAppliesForCervicalCancerFollowup:x,checkTaskResolvedForDeliveryReminder:S,checkTaskResolvedForHomeVisit:C,checkNotUndefinedorNone:F}=i;e.exports=[{name:'breast_cancer_screening.diagnosis_followup',icon:'icon-healthcare-assessment',title:'task.breast_cancer_screening.diagnosis_followup.title',appliesTo:'reports',appliesToType:['breast_cancer'],appliesIf:function(e,t){return F(t,'bse_info_and_training.bse_self_check.bse_self_check_result')&&_(e)},actions:[{type:'report',form:'breast_cancer_followup'}],events:[{start:15,end:15,dueDate:function(e,t,n){return a(n.reported_date,45)}}]},{name:'breast_cancer_followup.hfOrHospitalCheckup_followup',icon:'icon-followup-general',title:'task.breast_cancer_followup.hfOrHospitalCheckup_followup.title',appliesTo:'reports',appliesToType:['breast_cancer_followup'],appliesIf:function(e,t){return'no'===T(t,'form_questions.visited_hf')&&_(e)},actions:[{type:'report',form:'breast_cancer_followup'}],events:[{start:15,end:15,dueDate:function(e,t,n){return a(n.reported_date,105)}}]},{name:'anc.pregnancy_home_visit.known_lmp',icon:'icon-pregnancy',title:'task.anc.pregnancy_home_visit.title',appliesTo:'reports',appliesToType:['pregnancy'],appliesIf:function(e,t){return void 0!==T(t,'gestational_age.method_lmp.u_lmp_date')&&_(e)},actions:[{type:'report',form:'pregnancy_home_visit',modifyContent:(e,t,n,r)=>{e.visit=r.id.slice(r.id.length-1);const i=r.dueDate(r,t,n);e.current_period_start=a(i,-r.start),e.current_period_end=a(i,r.end)}}],events:k.map(((e,t)=>function(e,{start:t,due:n,end:r}){return{id:`pregnancy-home-visit-${e+1}`,start:t,end:r,dueDate:function(e,t,r){const i=s(t,r);return a(i||r.reported_date,n)}}}(t,e))),resolvedIf:C},{name:'anc.delivery.confirmation',icon:'icon-delivery',title:'task.anc.delivery.confirmation.visit.title',appliesTo:'reports',appliesToType:['pregnancy'],actions:[{form:'delivery'}],events:[{start:35,end:28,dueDate:function(e,t,n){const r=s(t,n);return a(r||n.reported_date,282)}}],resolvedIf:S},{name:'pnc.danger_sign_followup_mother',icon:'icon-follow-up',title:'task.pnc.danger_sign_followup_mother.title',appliesTo:'reports',appliesToType:['delivery','pnc_danger_sign_follow_up_mother'],appliesIf:function(e,t){return'yes'===T(t,'t_danger_signs_referral_follow_up')&&_(e)},resolvedIf:function(e,t,n,r){if(l(e))return!0;const i=Math.max(a(r,-n.start).getTime(),t.reported_date+1),s=a(r,n.end+1).getTime();return o(e.reports,['pnc_danger_sign_follow_up_mother'],i,s)},actions:[{type:'report',form:'pnc_danger_sign_follow_up_mother',modifyContent:function(e,t,n){if(p(n)){const t=f(n);e.past_danger_signs_ne=t.ne,e.past_danger_signs_en=t.en}else e.past_danger_signs_ne='कुनै पनि छैन',e.past_danger_signs_en='Not reported';if(d(n)){e.delivery_uuid=n._id;const t=T(n,'preg_info.delivery_type');e.isCesareanSectionDelivery='cesarean_section'===t}else e.delivery_uuid=T(n,'inputs.delivery_uuid');'pnc_danger_sign_follow_up_mother'===n.form?e.isCesareanSectionDelivery=T(n,'inputs.isCesareanSectionDelivery')||!1:e.delivery_uuid=T(n,'inputs.delivery_uuid')}}],events:[{id:'pnc-danger-sign-follow-up-mother',start:3,end:7,dueDate:function(e,t,n){return c(T(n,'t_danger_signs_referral_follow_up_date'))}}]},{name:'pnc.danger_sign_followup_baby.from_contact',icon:'icon-follow-up',title:'task.pnc.danger_sign_followup_baby.title',appliesTo:'contacts',appliesToType:['c82_person'],appliesIf:function(e){return e.contact&&'yes'===e.contact.t_danger_signs_referral_follow_up&&_(e)},resolvedIf:function(e,t,n,r){const i=Math.max(a(r,-n.start).getTime(),e.contact.reported_date),s=a(r,n.end).getTime();return o(e.reports,['pnc_danger_sign_follow_up_baby'],i,s)&&u(e)&&'yes'!==u(e).t_danger_signs_referral_follow_up},actions:[{type:'report',form:'pnc_danger_sign_follow_up_baby',modifyContent:function(e,t){e.delivery_uuid=t.contact.created_by_doc;const n=m(t);e.past_danger_signs_baby_ne=n.ne,e.past_danger_signs_baby_en=n.en}}],events:[{id:'pnc-danger-sign-follow-up-baby',start:3,end:7,dueDate:function(e,t){return c(t.contact.t_danger_signs_referral_follow_up_date)}}]},{name:'iucd_and_implant.complication_sign_followup.iucd_used',icon:'icon-follow-up',title:'task.iucd_and_implant.complication_sign_followup.iucd',appliesTo:'reports',appliesToType:['pregnancy_surveillance_form'],appliesIf:(e,t)=>F(t,'family_planning_screening.iucd.iucd_used'),resolvedIf:function(e,t,n,r){const i=Math.max(a(r,-n.start).getTime(),t.reported_date),s=a(r,n.end).getTime();return o(e.reports,['danger_sign_followup_for_iucd_implant'],i,s)},actions:[{form:'danger_sign_followup_for_iucd_implant'}],events:[{id:'danger-sign-followup-for-iucd-implant',start:5,end:14,dueDate:function(e,t,n){return a(n.reported_date,10)}}]},{name:'iucd_and_implant.complication_sign_followup.implant_symptoms',icon:'icon-follow-up',title:'task.iucd_and_implant.complication_sign_followup.implant',appliesTo:'reports',appliesToType:['pregnancy_surveillance_form'],appliesIf:(e,t)=>F(t,'family_planning_screening.implant.implant_symptoms'),resolvedIf:function(e,t,n,r){const i=Math.max(a(r,-n.start).getTime(),t.reported_date),s=a(r,n.end).getTime();return o(e.reports,['danger_sign_followup_for_iucd_implant'],i,s)},actions:[{form:'danger_sign_followup_for_iucd_implant'}],events:[{id:'danger-sign-followup-for-iucd-implant',start:2,end:10,dueDate:function(e,t,n){return a(n.reported_date,7)}}]},{name:'referral_followup_pills_depo.depo_conditions',icon:'icon-followup-general',title:'task.referral_followup_pills_depo.depo',appliesTo:'reports',appliesToType:['pregnancy_surveillance_form'],appliesIf:(e,t)=>F(t,'family_planning_screening.depo.depo_conditions'),resolvedIf:function(e,t,n,r){const i=Math.max(a(r,-n.start).getTime(),t.reported_date),s=a(r,n.end).getTime();return o(e.reports,['referral_followup_visit'],i,s)},actions:[{form:'referral_followup_visit'}],events:[{id:'referral-followup-visit-pills-depo',start:2,end:10,dueDate:function(e,t,n){return a(n.reported_date,7)}}]},{name:'referral_followup_pills_depo.pills_conditions',icon:'icon-followup-general',title:'task.referral_followup_pills_depo.pills',appliesTo:'reports',appliesToType:['pregnancy_surveillance_form'],appliesIf:(e,t)=>F(t,'family_planning_screening.pills.pills_conditions'),resolvedIf:function(e,t,n,r){const i=Math.max(a(r,-n.start).getTime(),t.reported_date),s=a(r,n.end).getTime();return o(e.reports,['referral_followup_visit'],i,s)},actions:[{form:'referral_followup_visit'}],events:[{id:'referral-followup-visit-pills-depo',start:5,end:45,dueDate:function(e,t,n){return a(n.reported_date,35)}}]},{name:'balanced_counseling.family_planning_followup.device_decided',icon:'icon-followup-general',title:'task.balanced_counseling.family_planning_followup',appliesTo:'reports',appliesToType:['pregnancy_surveillance_form'],appliesIf:(e,t)=>F(t,'balanced_consultation_process.device_decided_family_planning'),resolvedIf:function(e,t,n,r){const i=Math.max(a(r,-n.start).getTime(),t.reported_date),s=a(r,n.end).getTime();return o(e.reports,['family_planning_followup_visit'],i,s)},actions:[{form:'family_planning_followup_visit'}],events:[{id:'family-planning-followup-visit-balanced-counseling',start:20,end:30,dueDate:function(e,t,n){return a(n.reported_date,40)}}]},{name:'mental_health.mental_health_referral_followup',icon:'icon-mental-health-followup',title:'task.mental_health.mental_health_referral_followup',appliesTo:'reports',appliesToType:['mental_health_screening','mental_health_referral_follow_up'],appliesIf:I,actions:[{form:'mental_health_referral_follow_up'}],events:[{id:'mental-health-referral-follow-up',start:7,end:7,dueDate:function(e,t,n){return a(n.reported_date,21)}}]},{name:'cervical_cancer.referral_followup',icon:'icon-cervical-followup',title:'task.cervicel_cancer.referral_followup',appliesTo:'reports',appliesToType:['cervical_cancer_screening','cervical_cancer_referral_follow_up_visit'],appliesIf:x,actions:[{form:'cervical_cancer_referral_follow_up_visit'}],events:[{id:'cervical-cancer-referral-followup-visit',start:15,end:15,dueDate:function(e,t,n){return a(n.reported_date,'cervical_cancer_screening'===n.form?45:105)}}]},{name:'child_health.referral_followup',icon:'icon-child-health-followup',title:'task.child_health.referral_followup',appliesTo:'reports',appliesToType:['child_health_screening','child_referral_followup'],appliesIf:(e,t)=>1===Number.parseInt(T(t,'danger_trigger')),actions:[{type:'report',form:'child_referral_followup',modifyContent:function(e,t,n){Object.entries(y(n)).forEach((([t,n])=>{e[t]=n}))}}],events:[{id:'child-health-referral-followup-visit',start:4,end:3,dueDate:function(e,t,n){return a(n.reported_date,7)}}]},{name:'pnc_service_after_delivery',title:'task.pnc_service_after_delivery',icon:'icon-pnc_service',appliesTo:'reports',appliesToType:['delivery'],appliesIf:e=>_(e),actions:[{form:'pnc_service_form',modifyContent:function(e,t,n,r){e.visit=r.id.slice(r.id.length-1)}}],events:D.map(((e,t)=>function(e,{start:t,due:n,end:r}){return{id:`pnc-referral-followup-${e+1}`,start:t,end:r,dueDate:function(e,t,r){return g(r,n)}}}(t,e))),resolvedIf:function(e,t,n,r){return Utils.isFormSubmittedInWindow(e.reports,'pnc_service_form',Utils.addDate(r,-n.start).getTime(),Utils.addDate(r,n.end+1).getTime())}},{name:'pnc_service_referral_followup',title:'task.pnc_service_referral_followup',icon:'icon-pnc_referral',appliesTo:'reports',appliesToType:['pnc_service_form'],appliesIf:(e,t)=>'1'===T(t,'danger_trigger'),actions:[{form:'pnc_referral_followup_form',modifyContent:function(e,t,n){const r=w(n);e.danger_sign_child=r.babyDangerSigns,e.danger_sign_mother=r.motherDangerSigns}}],events:[{start:300,days:4,end:7}]},{name:'pnc_referral_followup',title:'task.pnc_referral_followup',icon:'icon-pnc_referral',appliesTo:'reports',appliesToType:['pnc_referral_followup_form'],appliesIf:(e,t)=>'no'===T(t,'pnc_referral_form.checked_up_at_health_facility'),actions:[{form:'pnc_referral_followup_form',modifyContent:function(e,t,n){Object.entries(b(n)).forEach((([t,n])=>{e[t]=n}))}}],events:[{start:300,days:4,end:7}]},{name:'hypertension_screening.referral_followup',title:'task.hypertension_screening.referral_followup',icon:'icon-hypertension-referral',appliesTo:'reports',appliesToType:['hypertension_screening'],appliesIf:(e,t)=>'1'===T(t,'danger_trigger'),actions:[{form:'hypertension_referral',modifyContent:function(e,t,n){const r=h(n,'hypertension');e.danger_sign_code=r.hypertensionDangerSigns}}],events:[{start:15,days:30,end:15}]},{name:'hypertension.referral_followup',title:'task.hypertension.referral_followup',icon:'icon-hypertension-referral',appliesTo:'reports',appliesToType:['hypertension_referral'],appliesIf:(e,t)=>'no'===T(t,'hypertension_referral_form.visit_hf'),actions:[{form:'hypertension_referral',modifyContent:function(e,t,n){const r=h(n);Object.entries(r).forEach((([t,n])=>{e[t]=n})),Object.assign(e,r,v(n,'hypertension'))}}],events:[{start:15,days:30,end:15}]},{name:'diabetes_screening.referral_followup',title:'task.diabetes_screening.referral_followup',icon:'icon-diabetes-referral',appliesTo:'reports',appliesToType:['diabetes_screening'],appliesIf:(e,t)=>'1'===T(t,'danger_trigger'),actions:[{form:'diabetes_referral',modifyContent:function(e,t,n){const r=h(n,'diabetes');e.danger_sign_code=r.diabetesDangerSigns}}],events:[{start:15,days:30,end:15}]},{name:'diabetes.referral_followup',title:'task.diabetes.referral_followup',icon:'icon-diabetes-referral',appliesTo:'reports',appliesToType:['diabetes_referral'],appliesIf:(e,t)=>'no'===T(t,'diabetes_referral_form.visit_hf'),actions:[{form:'diabetes_referral',modifyContent:function(e,t,n){const r=h(n);Object.entries(r).forEach((([t,n])=>{e[t]=n})),Object.assign(e,r,v(n,'diabetes'))}}],events:[{start:15,days:30,end:15}]},{name:'anxiety_session_1  ',icon:'icon-child-health-followup',title:'task.anxiety_session_1',appliesTo:'reports',appliesToType:['become_form'],appliesIf:(e,t)=>{const n=T(t,'become.hp_selection');return n&&n.includes('anxiety')},actions:[{type:'report',form:'become_sessions',modifyContent:function(e){e.anxiety_session='first'}}],events:[{start:30,days:30,end:15}]},{name:'anxiety_session_2',icon:'icon-child-health-followup',title:'task.anxiety_session_2',appliesTo:'reports',appliesToType:['become_sessions'],appliesIf:(e,t)=>'first'===T(t,'anxiety_session'),actions:[{type:'report',form:'become_sessions',modifyContent:function(e){e.anxiety_session='second'}}],events:[{start:30,days:30,end:15}]},{name:'depression_session_1',icon:'icon-child-health-followup',title:'task.depression_session_1',appliesTo:'reports',appliesToType:['become_sessions','become_form'],appliesIf:(e,t)=>{const n=T(t,'anxiety_session'),r=T(t,'become.hp_selection'),i=T(t,'previous_ctx');return'second'===n&&i&&i.includes('depression')||r&&!r.includes('anxiety')&&r.includes('depression')},actions:[{type:'report',form:'become_sessions',modifyContent:function(e){e.depression_session='first'}}],events:[{start:30,days:30,end:15}]},{name:'depression_session_2',icon:'icon-child-health-followup',title:'task.depression_session_2',appliesTo:'reports',appliesToType:['become_sessions'],appliesIf:(e,t)=>'first'===T(t,'depression_session'),actions:[{type:'report',form:'become_sessions',modifyContent:function(e){e.depression_session='second'}}],events:[{start:30,days:30,end:15}]},{name:'motivational_interviewing',icon:'icon-child-health-followup',title:'task.ma_session_1',appliesTo:'reports',appliesToType:['become_sessions'],appliesIf:(e,t)=>{const n=T(t,'anxiety_session'),r=T(t,'depression_session'),i=T(t,'previous_ctx');return'second'===n&&!i.includes('depression')&&(i.includes('hypertension')||i.includes('diabetes'))||'second'===r&&(i.includes('hypertension')||i.includes('diabetes'))},actions:[{type:'report',form:'become_sessions',modifyContent:function(e){e.ma_session='first'}}],events:[{start:30,days:30,end:15}]},{name:'motivational_interviewing_session_2',icon:'icon-child-health-followup',title:'task.ma_session_2',appliesTo:'reports',appliesToType:['become_sessions'],appliesIf:(e,t)=>'first'===T(t,'ma_session'),actions:[{type:'report',form:'become_sessions',modifyContent:function(e){e.ma_session='second'}}],events:[{start:30,days:30,end:15}]},{name:'motivational_interviewing_session_3',icon:'icon-child-health-followup',title:'task.ma_session_3',appliesTo:'reports',appliesToType:['become_sessions'],appliesIf:(e,t)=>'second'===T(t,'ma_session'),actions:[{type:'report',form:'become_sessions',modifyContent:function(e){e.ma_session='third'}}],events:[{start:30,days:30,end:15}]},{name:'motivational_interviewing_session_4',icon:'icon-child-health-followup',title:'task.ma_session_4',appliesTo:'reports',appliesToType:['become_sessions'],appliesIf:(e,t)=>'third'===T(t,'ma_session'),actions:[{type:'report',form:'become_sessions',modifyContent:function(e){e.ma_session='fourth'}}],events:[{start:30,days:30,end:15}]}]},766:e=>{'use strict';e.exports=JSON.parse('{\"dangerSignDictionaryNepali\":{\"profile_baby_fast_breathing\":\"(श्वास दर गन्नु होस् ) चाडो - चाडो श्वास फर्ने छ (>६०/ मिनेट)\",\"profile_chest_indrawing\":\"कोखा हानी रहेको छ \",\"profile_umbilical_pus_or_redness\":\"नाभी बाट पिप आउने वा नाभी वरपर रातो भएको छ \",\"profile_yellow_palms_feet\":\"हात र खुट्टाको पैताला पहेलो छ \",\"profile_pustules_10_or_big\":\"शरिरमा १० ओटा साना पिप्सो वा १ ठुलो ( >१ मिमि) पिप्सो छ \",\"profile_no_movement\":\"सुति रहने, ब्युझाउन गार्हो हुने छ \",\"profile_fever_convulsion\":\"ज्वरो आएको कम्पन छुट्टने छ \",\"profile_refuse_breastfeeding\":\"दुध चुस्न नम्माने छ \",\"profile_vomits_everything\":\"खाएको सबै उल्टि गर्छ \"},\"dangerSignDictionaryEnglish\":{\"profile_baby_fast_breathing\":\"Does the baby have high respiration rate (>60/minutes)\",\"profile_chest_indrawing\":\"Chest-Indrawing\",\"profile_umbilical_pus_or_redness\":\"Is there a pus from umbilical or redness around the umbilical area\",\"profile_yellow_palms_feet\":\"Yellow palms (hands) or soles (feet)\",\"profile_pustules_10_or_big\":\"Pustules more than 10 or 1 big pustule size more than 1 mm\",\"profile_no_movement\":\"No movement or poor movement only after stimulation\",\"profile_fever_convulsion\":\"Is there a fever and convulsion\",\"profile_refuse_breastfeeding\":\"Refuse to suck breast feed\",\"profile_vomits_everything\":\"Vomits everything eaten\"}}')},989:e=>{'use strict';e.exports=JSON.parse('{\"dangerSignDictionaryEnglish\":{\"fever\":\"Fever\",\"vaginal_bleeding\":\"Severe vaginal bleeding\",\"body_spasms\":\"Does she have body spasms\",\"headache\":\"Severe continuous headache or blurred vision\",\"abd_pain\":\"Severe lower abdominal pain / continuous vomiting \",\"vaginal_discharge\":\"Foul smelling white discharge from vagina\",\"calf_redness_or_difficulty_breathing\":\"Redness of Calf or swollen or difficulty in breathing or chest pain\",\"difficulty_or_leak_urine\":\"Difficulty in micturition or leak urine\",\"moody\":\"Do you have mood and emotional swings\",\"bleeding_at_surgical_site\":\"In women who have given birth by surgery, is bleeding at the site of surgery, very painful\"},\"dangerSignDictionaryNepali\":{\"fever\":\"ज्वरो आएको छ \",\"vaginal_bleeding\":\"योनी बाट  धेरै रगत बगीरहेको छ \",\"body_spasms\":\"शरिर बाउँडिने छ \",\"headache\":\"कडा / लगातार टाउको दुख्नु वा दृष्टि धमिलो छ \",\"abd_pain\":\"तल्लो पेट कडादुख्नु / तारन्तार बान्ता भैरहेको छ ?\",\"vaginal_discharge\":\"योनी बाट सेतो गन्ध आउने पानी बगीरहेको छ \",\"calf_redness_or_difficulty_breathing\":\"पिंडुला रातो भएको वा सुन्निएको, श्वास फेर्न गाह्रो हुनु वा छाती दुखी रहेको छ \",\"difficulty_or_leak_urine\":\"पिसाब सजिलै फेर्न नसक्ने वा पिसाब चुहिन छ \",\"moody\":\"मुड र भावनात्मक परिवर्तन /दोधार भइरह्न्छ \",\"bleeding_at_surgical_site\":\"शल्यक्रिया गरेर प्रसुति गराएका महिला मा शल्यक्रिया गरेको ठाउँमा रगत बगिरहेको, निकै कडा दुखिरहेको छ \"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}var r=n(991),i=n(931),o=n(571);n(823)(i,c,Utils,Target,emit),o(r,c,Utils,Task,emit),emit('_complete',{_id:!0})})();",
    "isDeclarative": true,
    "targets": {
      "enabled": true,
      "items": []
    }
  },
  "purge": {
    "run_every_days": 7,
    "text_expression": "at 11:00 pm on friday",
    "fn": "function (userCtx, contact, reports) {\n    const daysToPurge = 7;\n    const reportsToPurge = [];\n    const oldReportedDate = Date.now() - (1000 * 60 * 60 * 24 * daysToPurge);\n    const FORMS_TO_PURGE = [\n      'married_woman_reproductive',\n      'under_5_child',\n      'non_communicable_diseases',\n      'edu_status_5_18_yrs',\n      'household_survey'\n    ];\n\n    const checkRules = (rule, report) => !rule || rule(report);\n\n    const purgeReports = (reports, role, form, rule) => {\n      if (userCtx.roles.includes(role)) {\n        const filtered = reports.filter(r => form === r.form && r.reported_date <= oldReportedDate && checkRules(rule, r));\n        reportsToPurge.push(...filtered.map(report => report._id));\n      }\n    };\n\n    FORMS_TO_PURGE.forEach(form => purgeReports(reports, 'chn', form));\n\n    return reportsToPurge;\n  }"
  }
}
